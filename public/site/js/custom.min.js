function diaSemana(e){let a={1:"Dom.",2:"Seg.",3:"Ter.",4:"Qua.",5:"Qui.",6:"Sex.",7:"Sab."};for(var t=[],i=0;e.length>i;i++)a[e[i]]&&t.push(a[e[i]]);return t}function setLocalStorage(e,a,t){if(localStorage.setItem(e,a),t){var i=new Date;i.setDate(i.getDate()+parseInt(t)),localStorage.setItem(e+"_timer",i)}}function getLocalStorage(e,a){return a?localStorage.getItem(e+"_timer"):localStorage.getItem(e)}function deleteLocalStorage(e,a){localStorage.removeItem(e),a&&localStorage.removeItem(e+"_timer")}function getCookie(e){let a=e+"=",t=decodeURIComponent(document.cookie),i=t.split(";");for(let e=0;e<i.length;e++){let t=i[e];for(;" "==t.charAt(0);)t=t.substring(1);if(0==t.indexOf(a))return t.substring(a.length,t.length)}return""}$(document).ready(function(){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$('[data-toggle="popover"]').popover(),$('[data-toggle="tooltip"]').tooltip(),$(document).on("click",".click-img-view",function(){$(".click-img-view").removeClass("active-img"),$(this).addClass("active-img");var e=$(this).find("img").attr("src"),a=$(this).find("img").attr("alt");$("#view_img").attr("src",e),$("#view_img").attr("alt",a)}),$(document).on("keydown",".type-number",function(e){38==e.keyCode?$(this).val(parseInt($(this).val())+1):40==e.keyCode&&parseInt($(this).val())>1&&$(this).val(parseInt($(this).val())-1)}),$(".real").mask("000.000,00",{reverse:!0}),$('[name="quantidade"]').mask("0000"),$('[name="phone1"]').mask("(00) 0000-0000"),$('[name="phone2"]').mask("(00) 00000-0000"),$('[name="birth_date"]').mask("00/00/0000"),$('[name="postal_code"]').mask("00000-000"),$('[name="post_code"]').mask("00000-000"),$('[name="zip_code"]').mask("00000-000"),$(".select2").select2(),$('[name="card_number"]').mask("0000 0000 0000 0000"),$('[name="card_expiration_month_year"]').mask("00/0000"),$('[name="card_cvv"]').mask("000");var e={onKeyPress:function(e,a,t,i){var o=["000.000.000-000","00.000.000/0000-00"];$('[name="cnpj_cpf"]').mask(e.length>14?o[1]:o[0],i)}},a={onKeyPress:function(e,a,t,i){var o=["000000000000","00000000000000"];$('[name="cnpj_cpf2"]').mask(e.length>11?o[1]:o[0],i)}};$('[name="cnpj_cpf"]').length>11?$('[name="cnpj_cpf"]').mask("00.000.000/0000-00",e):$('[name="cnpj_cpf"]').mask("000.000.000-00#",e),$('[name="cnpj_cpf2"]').length>11?$('[name="cnpj_cpf2"]').mask("00000000000000",a):$('[name="cnpj_cpf2"]').mask("00000000000#",a),$('[name="cpf"]').mask("000.000.000-00"),$('[name="cnpj_cpf"], [name="cnpj_cpf2"], [name="cpf"]').blur(function(){$(this);var e=$(this).val();e&&(valida_cpf_cnpj(e)||Swal.fire({icon:"error",text:"CNPJ/CPF informado invalido!"}).then(e=>{}))});var t=function(e){return 11===e.replace(/\D/g,"").length?"(00) 00000-0000":"(00) 0000-00009"};e={onKeyPress:function(e,a,i,o){i.mask(t.apply({},arguments),o)}};$('[name="phone"]').mask(t,e),$(function(){$('[name="state"]')&&$.ajax({url:"https://servicodados.ibge.gov.br/api/v1/localidades/estados/",type:"GET",success:e=>{for(var a=0;e.length>a;a++)$('[name="state"]').append('<option value="'+e[a].sigla+'" data-sigla_id="'+e[a].id+'">'+e[a].sigla+" - "+e[a].nome+"</option>")}})}),$(document).on("change",'[name="state"]',function(){let e=$(this).find(":selected").data("sigla_id"),a=$(this).parent().parent().find('select[name="city"]');$.ajax({url:"https://servicodados.ibge.gov.br/api/v1/localidades/estados/"+e+"/municipios",type:"GET",success:e=>{a.empty(),a.append('<option value="">::Selecione uma Opção::</option>');for(var t=0;e.length>t;t++)a.append('<option value="'+e[t].nome+'">'+e[t].nome+"</option>")}})}),$('[name="post_code"]').on("keyup blur",function(){$(this).parent().parent().find("input, select").attr("readonly",!1),$(this).parent().parent().find("input, select").trigger("change"),9==$(this).val().length&&($(".loadCep").removeClass("d-none"),$.ajax({url:"/cep/"+$(this).val(),type:"GET",success:e=>{$('[name="address"]').val(e.logradouro),e.logradouro&&$('[name="address"]').prop("readonly",!0),$('[name="address2"]').val(e.bairro),e.bairro&&$('[name="address2"]').prop("readonly",!0),$('[name="state"]').val(e.uf),e.uf&&($('[name="state"]').attr("readonly",!0),$('[name="state"]').trigger("change")),setTimeout(()=>{$('[name="city"]').val(e.localidade),e.localidade&&($('[name="city"]').attr("readonly",!0),$('[name="city"]').trigger("change"))},800),$('[name="number"]').focus(),$(".loadCep").addClass("d-none")}}))}),$(".popover-dismiss").popover({trigger:"focus"}),$(document).on("click",'[data-target="#enderecos"]',function(){$("#enderecos").find('[name="id"]').val(""),$("#enderecos").find('input[type="text"]').val(""),$("#enderecos").find("input").attr("readonly",!1),$("#enderecos").find("select").val(""),$("#enderecos").find("select").attr("readonly",!1);var e=$(this).data("dados");$.each(e,(e,a)=>{$("#enderecos").find('[name="'+e+'"').val(a)}),$("#enderecos").find('[name="post_code"]').trigger("keyup"),$("#enderecos").find("select").trigger("change")}),$(document).on("click",".btn-excluir-address",function(e){e.preventDefault();var a=$(this).data("id"),t=$(this).data("url");Swal.fire({icon:"error",title:"Apagar Endereço?",showCancelButton:!0,confirmButtonText:"SIM",cancelButtonText:"NÃO"}).then(e=>{e.isConfirmed&&(window.location.href=t+"/"+a)})}),$(".menu-categorias").slick({dots:!1,infinite:!0,speed:300,slidesToShow:1,centerMode:!1,variableWidth:!0}),$(document).on("click",".btn-delete-product",function(){var e=$(this),a=$(this).data("row_id"),t=$(this).data("repagina"),i=$(this).data("json_gtag"),o={currency:"BRL",items:[{item_id:`P_${i.attributes.product_id}`,item_name:`${i.name}`,item_brand:"Biguaçu",item_category:"Biguaçu",price:`${parseFloat(i.price)}`,currency:"BRL",quantity:i.quantity}],value:`${parseFloat(i.price)}`};gtag("event","remove_from_cart",o),$.ajax({url:"/remove-cart",type:"POST",data:{row_id:a},success:a=>{"sim"==t?location.reload():e.parent().parent().remove()}})}),$(document).on("click",".select-attribute-bg",function(){var e=$(this),a=parseFloat($("#customValue").val())||0,t=e.parent().parent().parent().find(".attr-selecionado");t.length>0&&(t=t.val().split("|"),t=parseFloat(t[2])||0,$("#customValue").val((a-t).toFixed(2))),e.parent().parent().parent().find(".select-attribute").removeClass("active"),e.parent().parent().parent().find(".attr-selecionado").removeClass("attr-selecionado"),e.parent().parent().find(".select-data-attribute").addClass("attr-selecionado"),e.parent().addClass("active");a=parseFloat($("#customValue").val())||0,t=e.parent().parent().find(".select-data-attribute").val().split("|");t=parseFloat(t[2])||0,$("#customValue").val((a+t).toFixed(2));var i=parseFloat($("#customProjectValue").val())||0,o=$(".attributes").length,s=$(".attributes").find(".attr-selecionado").length;$("#comprar_produto").prop("disabled",!0),o==s&&0!==i&&($(".valor-final").text("R$ "+(t+a).toFixed(2).toString().replace(".",",")),$("#comprar_produto").prop("disabled",!1))}),$(document).on("click",".btn-visualizar",function(){var e=$(this).data("target"),a=$(this).data("dados");console.log(a),$.each(a,(a,t)=>{switch($(e).find("._"+a).text(t),"product_value"!=a&&"cost_freight"!=a&&"total_value"!=a||$(e).find("._"+a).text("R$ "+(parseFloat(t)||0).toFixed(2).toString().replace(".",",")),a){case"birth_date":var i=t.split("-");$(e).find("._"+a).text(i[2]+"/"+i[1]+"/"+i[0]);break;case"order_products":$(e).find(".produtos_pedido").empty();for(var o=0;o<t.length;o++){for(var s="",n=0;n<t[o].attributes.length;n++){var r=t[o].attributes[n].split("|");s+='<div class="col-12">'+r[1]+" - "+parseFloat(r[2]||0).toFixed(2).toString().replace(".",",")+"</div>"}var l="";for(n=0;n<t[o].project.length;n++){r=t[o].project[n].split("|");l+='<div class="col-12">L: '+r[0]+" - A: "+r[1]+" - M²: "+r[2]+"</div>"}$(e).find(".produtos_pedido").append('<div class="row border-bottom my-2"><div class="col-12 col-md-4"><b>Codigo do Produto: </b>'+t[o].product_code+'</div><div class="col-12 col-md-4"><b>Nome do Produto: </b>'+t[o].product_name+'</div><div class="col-12 col-md-4"><b>Quantidade: </b>'+t[o].quantity+'</div><div class="col-12 col-md-4"><b>Tipo de Venda: </b>'+t[o].product_sales_unit+'</div><div class="col-12 col-md-4"><b>Largura Padrão: </b>'+t[o].product_width+' cm</div><div class="col-12 col-md-4"><b>Altura Padrão: </b>'+t[o].product_height+' cm</div><div class="col-12 col-md-4"><b>Comprimento Padrão: </b>'+t[o].product_length+' cm</div><div class="col-12 col-md-4"><b>Peso Padrão: </b>'+t[o].product_weight+' kg</div><div class="col-12"><h5>Calculo do projeto</h5></div><div class="col-12 col-md-4"><b>Largura do Projeto: </b>'+t[o].project_width+'</div><div class="col-12 col-md-4"><b>Altura do Projeto: </b>'+t[o].project_height+'</div><div class="col-12 col-md-4"><b>M² do Projeto: </b>'+t[o].project_meters+'</div><div class="col-12 my-2"><h5>Atributos</h5></div><div class="col-12 col-md-4"><div class="row">'+s+'</div></div><div class="col-12 my-2"><h5>Projeto</h5></div><div class="col-12 col-md-4"><div class="row">'+l+"</div></div></div>")}break;case"shipping_customer":$(e).find(".entrega_pedido").empty(),$(e).find(".entrega_pedido").append('<div class="row border-bottom my-2"><div class="col-12 col-md-6">'+t[0].address+", Nª "+t[0].number+" - "+t[0].address2+'</div><div class="col-12 col-md-6">'+t[0].city+" / "+t[0].state+" - "+t[0].post_code+'</div><div class="col-12">'+t[0].phone1+" / "+t[0].phone2+'</div><div class="col-12 col-md-4"><b>Transportadora: </b>'+t[0].transport+" - <b>Data Estimada: </b> "+t[0].time+" dias</div></div>");break;case"payment_order":$(e).find(".pagamento_pedido").empty();for(o=0;o<t.length;o++)"approved"==t[o].status&&$(e).find(".pagamento_pedido").append('<div class="row border-bottom my-2"><div class="col-12 col-md-4"><b>Total Pago: </b>'+(parseFloat(t[o].total_paid_amount)||0).toFixed(2).toString().replace(".",",")+'</div><div class="col-12 col-md-4"><b>Parcelamento: </b>'+t[o].installments+" x "+(parseFloat(t[o].installment_amount)||0).toFixed(2).toString().replace(".",",")+'</div><div class="col-12 col-md-4"><b>Metodo de Pagamento: </b>'+t[o].payment_method_id+'</div><div class="col-12 col-md-4"><b>Nome do Pagador: </b>'+t[o].payer_name+'</div><div class="col-12 col-md-4"><b>CNPJ/CPF do Pagador: </b>'+t[o].payer_cnpj_cpf+"</div></div>")}})}),$(document).on("change",".select-attributes",function(){$("#Variations").empty();var e=$('[name="product_id"]').val(),a=$('[name="stock_controller"]').val(),t=0,i=[];$(".select-attributes").each(function(){""!==$(this).val()&&(t++,i.push($(this).val()))}),t==$(".select-attributes").length&&$.ajax({url:"/geral/select-attrs-variations",type:"POST",data:{attributes_value:i,product_id:e},success:e=>{$("#json_desconto_progressivo").val(JSON.stringify(e.progressive_discount)),$(".apartir-value").addClass("d-none");var t="";a&&(t="<p>Estoque Disponível: "+e.stock+"</p>");var o={var_id:e.id,preco:e.preco,stock:e.stock,peso:e.peso,dimensoes_C:e.dimensoes_C,dimensoes_L:e.dimensoes_L,dimensoes_A:e.dimensoes_A,relation:i};0==e.stock?($("#Variations").html('\n                            <div class="w-100"><p style="font-size: 1.3rem; color: #3D550C;">VARIAÇÃO INDISPONÍVEL</p></div>\n                        '),$(".qty-btnPurchase").addClass("d-none")):($("#Variations").html('<div class="w-100">'+t+'</div><div class="values alter-value" id="variacao-'+i.join("-")+'">'+`\n                                <div>\n                                    <span class="value-2 py-1">R$ ${e.preco.toFixed(2).replace(".",",")}</span>\n                                    <br>\n                                    <span style="font-size: 12px;">(Preço por unidade)</span>\n                                </div>\n                            `+'<input type="hidden" name="variacao['+i.join("-")+"]\" value='"+JSON.stringify(o)+'\'><input type="hidden" class="get-price-calc" value="'+e.preco+'"></div>'),$(".get-installments").removeClass("d-none"),$(".qty-btnPurchase").removeClass("d-none"),$('[name="quantidade"]').trigger("keyup"))}})}),$(document).on("click",".finalizarOrder",function(){var e=$(this).data("order_number");Swal.fire({icon:"warning",title:"Gostaria de Finalizar o Pedido?",showCancelButton:!0,confirmButtonText:"Finzalizar",cancelButtonText:"Cancelar"}).then(a=>{a.isConfirmed&&$.ajax({url:"/finalizarOrder",type:"POST",data:{order_number:e},success:e=>{window.location.reload()}})})}),$(document).on("click",".estrela_click",function(){var e=$(this).parent().find("#"+$(this).attr("for"));$('input[name="estrela"]').removeAttr("checked"),e.attr("checked",!0),$(this).parent().find(".estrela_click").removeClass("text-warning");for(var a=1;parseInt(e.val())>=a;a++)$(this).parent().find('label[for="estrela_'+a+'"]').addClass("text-warning")}),$(document).on("click",".btn-env-comment",function(){var e=$(this).closest("form"),a=$(this),t=$(this).html();$(this).html('<div class="spinner-border" role="status"><span class="sr-only">Loading...</span></div>').prop("disabled",!0),form_height=e.height(),e.css("height",form_height+"px"),e.find('input[type="radio"]').is(":checked")&&""!==e.find("textarea")?$.ajax({url:e.attr("action"),type:"POST",data:e.serialize(),success:i=>{a.html(t),e.css({height:"0",transition:".6s height",overflow:"hidden"}),Toast.fire({icon:"success",title:"Avaliação registrado com sucesso!"})}}):(a.html(t).prop("disabled",!1),Toast.fire({icon:"error",title:"Campos não preenchidos, verificar!"}))}),$(document).on("click",".btn-send-contactus",function(){var e=$("#form_contact"),a=$(this);a.html('<div class="spinner-border" role="status"><span class="sr-only">Loading...</span></div>').prop("disabled",!0),e.find("input").removeClass("is-invalid"),e.find(".invalid-feedback").remove(),GRecaptchaFun($(this).closest("form")),setTimeout(()=>{$.ajax({url:e.attr("action"),type:"POST",data:e.serialize(),success:t=>{console.log(t),e.find("input").val(""),e.find("select").val(""),e.find("textarea").val(""),a.html("Enviar").prop("disabled",!1),Swal.fire({icon:"success",title:"Email enviado com sucesso!"})},error:t=>{a.html("Enviar").prop("disabled",!1);let i=t.responseJSON.errors;$.each(i,(a,t)=>{let i=e.find('[name="'+a+'"]');i.addClass("is-invalid"),i.parent().append('<div class="invalid-feedback">'+t[0]+"</div>")})}})},1e3)}),$(document).on("click",".btn-newsletter",function(){var e=$("#form_newsletter"),a=$(this);a.html('<div class="spinner-border" role="status"><span class="sr-only">Carregando...</span></div>').prop("disabled",!0),e.find("input").removeClass("is-invalid"),e.find(".invalid-feedback").remove(),$.ajax({url:e.attr("action"),type:"POST",data:e.serialize(),success:t=>{console.log(t),e.find("input").val(""),a.html("Enviar").prop("disabled",!1),Swal.fire({icon:"success",title:"Inscrição realizada com sucesso!"})},error:t=>{a.html("Enviar").prop("disabled",!1);let i=t.responseJSON.errors;$.each(i,(a,t)=>{let i=e.find('[name="'+a+'"]');i.addClass("is-invalid"),i.parent().append('<div class="invalid-feedback" style="color: #000">'+t[0]+"</div>")})}})}),$(document).on("click",".btn-send-payment",function(){var e=$(this).closest("form");$(this).html('<div class="spinner-border" role="status"><span class="sr-only">Loading...</span></div>').prop("disabled",!0);var a=!0;$(".requerid").each(function(){""==$(this).val()?(a=!1,$(this).addClass("is-invalid"),$(this).parent().append('<span class="invalid-feedback">Campo Obrigatorio</span>')):($(this).removeClass("is-invalid"),$(this).parent().find(".invalid-feedback").remove())}),a?e.submit():$(this).html("Pagar").prop("disabled",!1)}),$(document).on("click",".favorite",function(){var e=$(this).data("product_id"),a=$(this).data("product_id")?"/add-favoritos/"+e:"/add-services-favoritos/"+$(this).data("service_id");$.ajax({url:a,type:"GET",success:e=>{console.log(e),Swal.fire({icon:"success",title:e.msg})},error:e=>{console.log(e),e.responseJSON.error_login&&Swal.fire({icon:"error",title:e.responseJSON.error_login})}})}),$(document).on("click",".btn-env-code-delete",function(){var e=$(this);e.prop("disabled",!0),e.html('<div class="spinner-border" role="status"><span class="sr-only">Loading...</span></div>'),$.ajax({url:"/perfil/env-code-delete",type:"GET",success:a=>{e.prop("disabled",!1),e.html("Enviar Codigo"),$(".btn-submit-code-delete").parent().removeClass("d-none"),$(".info-env-code").removeClass("d-none"),setTimeout(()=>{$(".info-env-code").addClass("d-none")},5e3)}})}),$(document).on("click",".btn-submit-code-delete",function(){var e=$(this);e.prop("disabled",!0),e.html('<div class="spinner-border" role="status"><span class="sr-only">Loading...</span></div>'),$.ajax({url:"/perfil/confirm-code-delete",type:"POST",data:{code_delete:$('[name="code_delete"]').val()},success:a=>{e.prop("disabled",!1),e.html("Apagar Conta"),Swal.fire({icon:"success",title:"Conta apagada com successo!"}),setTimeout(()=>{window.location.reload()},6e3)},error:a=>{e.prop("disabled",!1),e.html("Apagar Conta"),a.responseJSON.error_msg&&Swal.fire({icon:"error",title:a.responseJSON.error_msg})}})}),$(document).on("click",".btn-input-pedido",function(){$('[name="order_number"]').val($(this).data("order_number"))}),$(document).on("click",".btn-cancelar-pedido",function(){var e=$(this);Swal.fire({title:"Salvando Dados, Aguarde!",allowOutsideClick:!1,timerProgressBar:!0,didOpen:()=>{Swal.showLoading()}}),$.ajax({url:e.closest("form").attr("action"),type:"POST",data:new FormData(e.closest("form")[0]),cache:!1,contentType:!1,processData:!1,success:e=>{Swal.fire({icon:"success",title:e.msg_10}),$("#solicitarCancelamentoPedido").modal("hide")}})}),$(document).on("click",".btn-rastreio-melhor-envio",function(e){e.preventDefault(),$("#rastreioMelhorEnvio").modal("show"),$("#rastreioMelhorEnvio").find(".modal-body").html('<div class="spinner-border" role="status"><span class="sr-only">Loading...</span></div>'),$.ajax({url:$(this).attr("href"),type:"GET",success:e=>{console.log(e),$("#rastreioMelhorEnvio").find(".modal-body").html(JSON.stringify(e))}})}),$(function(){$(".max-caracteres").each(function(){var e=$(this).data("max_caracteres")||255;$(this).parent().find("label").append('<span class="ml-2 count-max-caracteres-length">(max. caracteres '+e+")</span>")})}),$(document).on("keydown",".max-caracteres",function(e){var a=$(this).data("max_caracteres")||255;if($(this).parent().find(".count-max-caracteres-length").html("(max. caracteres "+(a-$(this).val().length)+")"),$(this).val().length>=a&&8!=e.keyCode&&9!=e.keyCode)return!1});var o=sleep_ajax=stop_laze=0;$(window).on("scroll",function(){var e=$(".laze_load").height(),a=$(this).scrollTop()+300;0==stop_laze?a>e&&0==sleep_ajax&&($(".loading").addClass("d-flex").removeClass("d-none"),$(".loading").find(".spinner-border").removeClass("d-none"),sleep_ajax=1,o+=20,filters=$(".filters").find("form").serialize(),$.ajax({url:"?return=true&skip="+o+"&"+filters,type:"GET",success:e=>{$(".loading").removeClass("d-flex").addClass("d-none"),$(".loading").find(".spinner-border").addClass("d-none"),$(".laze_load").append(e),sleep_ajax=0,""==e&&(stop_laze=1)}})):($(".loading").removeClass("d-flex").addClass("d-none"),$(".loading").find(".spinner-border").removeClass("d-none"))}),$(window).on("scroll",function(){var e=$(window).height(),a=$(this).scrollTop()+300;a>e?$(".btn-scroll-top").removeClass("d-none"):$(".btn-scroll-top").addClass("d-none")}),$(document).on("click",".btn-scroll-top",function(){$("html, body").animate({scrollTop:0},"slow")}),$(".copy-link").on("click",function(e){e.preventDefault(),navigator.clipboard.writeText($(this).attr("href")),$(this).css({color:"green","border-color":"green"}),setTimeout(()=>{$(this).css({color:"#000","border-color":"#000",transition:"0.8s ease"})},5e3)}),$(document).on("keyup",'[name="quantidade"]',function(e){var a=JSON.parse($("#json_desconto_progressivo").val()),t=1;"1"==$('[name="hospedagem_controller"]').val()&&(t=parseFloat($('[name="diaria"]').val())||1);var o=parseFloat($(".get-price-calc").val())||0,s=parseFloat($(this).val())||0;if($(".alter-value").find(".c-qty").text(s),$(".alter-value").find(".value-2").html(`R$ ${o.toFixed(2).toString().replace(".",",")}`),a.length>0){var n=a.filter(function(e){return s>=e.discount_quantity});n[n.length-1]&&(o=n[n.length-1].discount_value,$(".alter-value").find(".value-2").html(`R$ ${o.toFixed(2).toString().replace(".",",")}`))}$(".price_calc").text("R$ "+(s*o*t).toFixed(2).replace(".",","));var r=JSON.parse($(".get-installments").val());for(i in $('[aria-labelledby="getInstallmentsDropdown"]').empty(),r){var l=s*o*t,d=parseFloat(r[i].valor).toFixed(2).toString();console.log(),d.replace(",",".")<=l&&$('[aria-labelledby="getInstallmentsDropdown"]').append(`<a class="dropdown-item">${r[i].parcela} x ${((l+l*r[i].porcentage.replace(",",".")/100)/r[i].parcela).toLocaleString("pt-br",{style:"currency",currency:"BRL"})} = ${(l+l*r[i].porcentage.replace(",",".")/100).toLocaleString("pt-br",{style:"currency",currency:"BRL"})} ${r[i].porcentage.replace(",",".")>0?"Com Juros":"Sem Juros"}</a>`)}}),$(document).on("click",".btn-comprar-cart",function(){var e=$(this).html();$(this).html('<div class="spinner-border" role="status"><span class="sr-only">Loading...</span></div>').prop("disabled",!0);var a={currency:"BRL",items:[{item_id:`P_${$('[name="product_id"]').val()}`,item_name:`${$('[name="product_name"]').val()}`,item_brand:"Biguaçu",item_category:`${$('[name="product_category"]').val()}`,price:`${parseFloat($(".get-price-calc").val())}`,currency:"BRL",quantity:$('[name="quantidade"]').val()}],value:`${parseFloat($(".get-price-calc").val())}`};if(gtag("event","add_to_cart",a),$(".select-attributes").length>0){var t=!0;$(".select-attributes").each(function(){""==$(this).val()&&(t=!1)}),t?setTimeout(()=>{$(this).closest("form").submit()},100):(Swal.fire({icon:"warning",title:"É necessário que todos atributos estejam selecionados!"}),$(this).html(e).prop("disabled",!1))}else setTimeout(()=>{$(this).closest("form").submit()},100)}),$(".btn-yes-cookie").on("click",function(){$(".modal-cookie").css({height:"0",transition:".6s height"}),setLocalStorage("cookie_privacy_policy","accept","30")}),$(function(){setTimeout(()=>{var e="100px";$(window).width()<1200&&(e="120px"),$(window).width()<1e3&&(e="140px"),$(window).width()<800&&(e="180px"),$(window).width()<600&&(e="220px"),$(window).width()<400&&(e="240px"),getLocalStorage("cookie_privacy_policy")?new Date(getLocalStorage("cookie_privacy_policy",!0))<new Date&&(deleteLocalStorage("cookie_privacy_policy",!0),$(".modal-cookie").css("height",e)):$(".modal-cookie").css("height",e)},1e3)}),$(document).on("click","#atualizarAfiliado .btn-salvar",function(){let e=$(this).data("save_target"),a=$(this).data("save_route"),t=$(this).data("refresh"),i=new FormData($(e)[0]);$(e).find("input").removeClass("is-invalid"),$(e).find(".invalid-feedback").remove();let o=$(e).parent();o.is(".modal-content")&&o.append('<div class="overlay d-flex justify-content-center align-items-center"><i class="fas fa-2x fa-sync fa-spin"></i></div>'),$.ajax({url:a,type:"POST",data:i,cache:!1,contentType:!1,processData:!1,success:e=>{Toast.fire({icon:"success",title:"Os dados foram salvos com successo!"}),"S"==t&&setTimeout(()=>{window.location.reload()},1200)},error:a=>{$(o).find(".overlay").remove();let t=a.responseJSON.errors;$.each(t,(a,t)=>{let i=$(e).find('[name="'+a+'"]');i.addClass("is-invalid"),i.parent().append('<div class="invalid-feedback">'+t[0]+"</div>")}),a.responseJSON.msg_alert&&Swal.fire({icon:a.responseJSON.icon_alert,text:a.responseJSON.msg_alert})}})}),$(document).on("click",".btn-gerar-link",function(){var e=$(this).data("url"),a=$(this).data("reference_id"),t=$(this).data("affiliate_id"),i=$(this).data("affiliate_item");Swal.fire({title:"Deseja gerar link para este item?",text:"Após confirmação, você receberá um link personalizado para vender o item "+a+".",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sim!",cancelButtonText:"Cancelar"}).then(o=>{o.isConfirmed&&(Swal.fire({title:"Gerando link, aguarde...",allowOutsideClick:!1,timerProgressBar:!0,didOpen:()=>{Swal.showLoading()}}),$.ajax({url:e,type:"POST",data:{reference_id:a,affiliate_id:t,affiliate_item:i},success:e=>{Swal.fire({icon:"success",title:"Link gerado com successo!",html:`<a href="${e}" target="_blank">${e}</a>`})}}))})}),$(document).on("click",".btn-copiar-link",function(e){e.preventDefault();var a=$(this).html();$(this).html('Link Copiado <i class="fas fa-check"></i>'),navigator.clipboard.writeText($(this).attr("href")),setTimeout(()=>{$(this).html(a)},1600)}),$(document).on("blur",".requerid",function(){0!==$(this).val().length&&$(this).is(".is-invalid")&&$(this).removeClass("is-invalid").addClass("is-valid")}),$(document).on("blur",'[name="card_number"]',function(){$(this).removeClass("is-invalid"),$(this).parent().find(".invalid-feedback").remove(),$(".btn-send-payment").prop("disabled",!1),19==$(this).val().length?($(this).addClass("is-valid"),$(".btn-send-payment").prop("disabled",!1)):($(".btn-send-payment").prop("disabled",!0),$(this).parent().append('<span class="invalid-feedback">Cartão Invalido!</span>'),$(this).addClass("is-invalid"),$(this).removeClass("is-valid"))}),$(document).on("blur",'[name="card_expiration_month_year"]',function(){$(this).removeClass("is-invalid"),$(this).parent().find(".invalid-feedback").remove(),$(".btn-send-payment").prop("disabled",!1),7==$(this).val().length?($(this).addClass("is-valid"),$(".btn-send-payment").prop("disabled",!1)):($(".btn-send-payment").prop("disabled",!0),$(this).parent().append('<span class="invalid-feedback">Data Invalida!</span>'),$(this).addClass("is-invalid"),$(this).removeClass("is-valid"))}),$(document).on("blur",'[name="card_cvv"]',function(){$(this).removeClass("is-invalid"),$(this).parent().find(".invalid-feedback").remove(),$(".btn-send-payment").prop("disabled",!1),3==$(this).val().length?($(this).addClass("is-valid"),$(".btn-send-payment").prop("disabled",!1)):($(".btn-send-payment").prop("disabled",!0),$(this).parent().append('<span class="invalid-feedback">CVV Invalido!</span>'),$(this).addClass("is-invalid"),$(this).removeClass("is-valid"))}),$(document).on("click",".click_select_item",function(e){e.preventDefault();var a=JSON.parse($(this).closest(".produtos").find(".gtag_select_item").val());gtag("event","select_item",a),setTimeout(()=>{window.location.href=$(this).attr("href")},100)})});