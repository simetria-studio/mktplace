function getInfoDash(){$.ajax({url:"/getInfoDash",type:"POST",data:{date_ini:$(".periodo_ini").val(),date_fim:$(".periodo_fim").val()},success:e=>{if($("#info_vendas").html(e.vendas),$("#qty_produtos_servicos").html(e.qty_produtos_servicos),$("#qty_acessos").html(e.qty_acessos),$("#table_pedidos").empty().html(e.pedidos.trs),e.pedidos.total<7)for(var a=1;a<=7-e.pedidos.total;a++)$("#table_pedidos").append('<tr><td style="font-size: 12px;">&nbsp;</td><td></td><td></td><td></td></tr>');vendas_realizadas.updateSeries([{name:"Vendas Realizadas",data:e.venda_graf.series}]),vendas_realizadas.updateOptions({xaxis:{categories:e.venda_graf.category}}),acessos_produtos_servicos.updateSeries([{name:"Produtos/Serviços",data:e.acessos_graf.series}]),acessos_produtos_servicos.updateOptions({xaxis:{categories:e.acessos_graf.category}}),e.crescimento&&$.each(e.crescimento,(e,a)=>{$(".crescimento").find(`[data-target="${e}"]`).text(a)}),e.ranking&&$.each(e.ranking,(e,a)=>{$(".ranking").find(`[data-target="${e}"]`).html(a)})}})}function isEmpty(e){for(var a in e)if(e.hasOwnProperty(a))return!1;return JSON.stringify(e)===JSON.stringify({})}function busca_state(){var e=$('[name="state"]').find("option:selected").val();$('[name="state"], .state').empty(),$('[name="state"], .state').append('<option value="">::Selecione uma Opção::</option>'),$.ajax({url:"https://servicodados.ibge.gov.br/api/v1/localidades/estados/",type:"GET",success:a=>{for(var t=0;a.length>t;t++)$('[name="state"], .state').append('<option value="'+a[t].sigla+'" data-sigla_id="'+a[t].id+'">'+a[t].sigla+" - "+a[t].nome+"</option>");$('[name="state"], .state').val(e).trigger("change")}})}function obterParametrosDaURL(){for(var e=window.location.search.substring(1),a=e.split("&"),t={},o=0;o<a.length;o++){var n=a[o].split("="),i=decodeURIComponent(n[0]),r=decodeURIComponent(n[1]);t[i]=r}return t}$(document).ready(function(){function e(e,a){switch(a){case"#postProductNovaCategoria":var t="#postEditarProduto";if($("#novoProduto").is(":visible")&&(t="#postNovoProduto"),"category_id"==$(t).find(".main_category option:selected").data("new_category")){$(t).find(".main_category").empty(),$(t).find(".main_category").append('<option value="" data-new_category="category_id"> - Nova Categoria - </option>');var o=buscaCategoria({category_id:"S"});$.each(o.responseJSON,(e,a)=>{$(t).find(".main_category").append('<option value="'+a.id+'">'+a.name+"</option>")})}if("category_id"!==$(t).find(".main_category option:selected").data("new_category")){let e=$(t).find(".sub_category").val();$(t).find(".sub_category").empty();o=buscaCategoria({parent_id:$(t).find(".main_category option:selected").val()});$.each(o.responseJSON,(e,a)=>{$(t).find(".sub_category").append('<option value="'+a.id+'">'+a.name+"</option>")}),e.length>0&&($(t).find(".sub_category").val(e),$(t).find(".sub_category").trigger("change"))}break;case"#postEditarCategoria":break;case"#postEditarProduto":$(".tr-id-"+e.product_id).children().eq(1).html('<img width="100px" src="'+e.image_data+'">'),$(".tr-id-"+e.product_id).children().eq(2).html(e.product_name),$(".tr-id-"+e.product_id).children().eq(3).html(e.measured_unit),$(".tr-id-"+e.product_id).children().eq(4).html(e.sales_uni),$(".tr-id-"+e.product_id).children().eq(5).html(e.value),$(".tr-id-"+e.product_id).find(".btn-editar").data("images",e.dados_image),$(".tr-id-"+e.product_id).find(".btn-editar").data("dados",e.dados);break;case"#postEditarPromocao":$(".tr-id-"+e.promotion_id).children().eq(2).html(e.value),$(".tr-id-"+e.promotion_id).children().eq(3).html(e.start_date),$(".tr-id-"+e.promotion_id).children().eq(4).html(e.final_date),$(".tr-id-"+e.promotion_id).find(".btn-editar").data("dados",e.dados)}}function a(e,a){switch(a){case"#postProductNovaCategoria":var t="#postEditarProduto";$("#novoProduto").is(":visible")&&(t="#postNovoProduto"),"category_id"==$(t).find(".main_category option:selected").data("new_category")&&($(t).find(".sub_category").empty(),$(a).find('[name="parent_id"]').val(""),$(t).find(".sub_category").append('<option value="" data-new_category="parent_id"> - Nova Sub Categoria- </option>'))}}$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$(".real").mask("000.000,00",{reverse:!0}),$(document).on("click",".check-custom",function(){$(this).toggleClass("active")}),$(".select2").select2(),$.fn.dataTable.moment("DD/MM/YYYY"),$("#table_pedido").DataTable({responsive:!0,autoWidth:!1,columnDefs:[],language:language_pt_br,buttons:["copy","csv","colvis"],order:[[0,"desc"]]}).buttons().container().appendTo(".table-options .col-md-6:eq(0)"),$("#table_assinatura").DataTable({responsive:!0,autoWidth:!1,columnDefs:[],language:language_pt_br,buttons:["copy","csv","colvis"],order:[[0,"desc"]]}).buttons().container().appendTo(".table-options .col-md-6:eq(0)");var t=$(window).width();t<370&&$(".buttons-colvis").parent().addClass("d-none");var o=$("#user_name").text();o=o.split(" ");var n=o[0].charAt(0)+o[o.length-1].charAt(0);$('[name="postal_code"]').mask("00000-000"),$('[name="post_code"], .post_code').mask("00000-000"),$('[name="number"], .number').mask("0000000000"),$('[name="phone1"]').mask("(00) 0000-0000"),$('[name="phone2"], .phone2').mask("(00) 00000-0000"),$(".phone").mask("(00) 00000-0000");var i=function(e){return 11===e.replace(/\D/g,"").length?"(00) 00000-0000":"(00) 0000-00009"},r={onKeyPress:function(e,a,t,o){t.mask(i.apply({},arguments),o)}};$('[name="phone"]').mask(i,r);var s=function(e){return e.replace(/\D/g,"").length>11?"00.000.000/0000-00":"000.000.000-000"},d={onKeyPress:function(e,a,t,o){t.mask(s.apply({},arguments),o)}};$('[name="cnpj_cpf"], .document').mask(s,d),$('[name="cnpj_cpf"], .document').blur(function(){$(this);var e=$(this).val();e&&(valida_cpf_cnpj(e)||Swal.fire({icon:"error",text:"CNPJ/CPF informado invalido!"}).then(e=>{}))}),$("#image_perfil").text(n.toUpperCase()),$('[data-toggle="popover"]').popover(),$(document).on("click",".charge-modal",function(){var e=$(this).data("info")||{},a=$(this).data("url"),t=$(this).data("tag_event");e.tag_event=t,a&&(Swal.fire({title:"Carregando Informações...",timerProgressBar:!0,didOpen:()=>{Swal.showLoading()}}),$.ajax({url:a,type:"POST",data:e,success:e=>{Swal.close(),$("body").append(e),$(t).modal("show"),$('[name="postal_code"]').mask("00000-000"),$('[name="post_code"], .post_code').mask("00000-000"),$('[name="number"], .number').mask("0000000000"),$('[name="phone1"]').mask("(00) 0000-0000"),$('[name="phone2"], .phone2').mask("(00) 00000-0000"),$(".phone").mask("(00) 00000-0000"),$('[name="cnpj_cpf"], .document').mask(s,d),busca_state(),$('[data-eachfun="true"]').each(function(){"click"==$(this).data("event")&&$(this).attr("disabled")?$(this).prop("disabled",!1).trigger($(this).data("event")).prop("disabled",!0):$(this).trigger($(this).data("event"))}),$(".select2").select2(),$(".max-caracteres").each(function(){var e=$(this).data("max_caracteres")||255;$(this).parent().find("label").append('<span class="ml-2 count-max-caracteres-length">(max. caracteres '+e+")</span>")}),$(document).on("hidden.bs.modal",t,function(){$(this).remove()})},error:e=>{Swal.fire({icon:"error",title:"Houve um erro na solicitação, contate o administrador!"})}}))}),$(document).on("click",".btn-delete",function(){var e=$(this).data("table_html"),a=$(this).data("url"),t=$(this).data("id"),o=obterParametrosDaURL();o.id=t,Swal.fire({title:"Atenção!",text:"Você está prestes a apagar uma informação, ao fazer isso ela sera deletada para sempre e seu dados vinculados a ela e não podera ser recuperada!",icon:"warning",showCancelButton:!0,confirmButtonText:"Sim",cancelButtonText:"Não"}).then(t=>{t.isConfirmed&&(Swal.fire({title:"Apagando informações, aguarde...",allowOutsideClick:!1,timerProgressBar:!0,didOpen:()=>{Swal.showLoading()}}),$.ajax({url:a,type:"POST",data:o,success:a=>{var t="Dados Apagados com sucesso!";e&&a.table_html&&$(e).html(a.table_html),c.fire({icon:"success",title:t})},error:e=>{Swal.fire({icon:"error",title:"Houve um erro ao apagar os dados, contate o administrador!"})}}))})}),$(".textarea").summernote({height:300,minHeight:null,maxHeight:null,dialogsInBody:!0,dialogsFade:!1}),$(".date-mask").daterangepicker({singleDatePicker:!1,showDropdowns:!0,locale:{format:"DD/MM/YYYY",daysOfWeek:["dom","seg","ter","qua","qui","sex","sab"],monthNames:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","outubro","Novembro","Dezembro"],applyLabel:"Aplicar",cancelLabel:"Cancelar"}}),$(".date-mask-single").daterangepicker({singleDatePicker:!0,showDropdowns:!0,locale:{format:"DD/MM/YYYY",daysOfWeek:["dom","seg","ter","qua","qui","sex","sab"],monthNames:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","outubro","Novembro","Dezembro"],applyLabel:"Aplicar",cancelLabel:"Cancelar"}}),$(".my-colorpicker2").colorpicker(),$(".my-colorpicker2").on("colorpickerChange",function(e){$(".my-colorpicker2 .fa-square").css("color",e.color.toString())}),$('[name="state"], .state')&&busca_state(),$(document).on("change",'[name="state"], .state',function(){let e=$(this).find(":selected").data("sigla_id"),a=$(this).parent().parent().find('select[name="city"], .city');var t=a.find("option:selected").val();$.ajax({url:"https://servicodados.ibge.gov.br/api/v1/localidades/estados/"+e+"/municipios",type:"GET",success:e=>{a.empty(),a.append('<option value="">::Selecione uma Opção::</option>'),a.is(".entrega")&&a.append('<option value="Toda Região">Toda Região</option>');for(var o=0;e.length>o;o++)a.append('<option value="'+e[o].nome+'">'+e[o].nome+"</option>");a.val(t)}})}),$(document).on("keyup blur",'[name="postal_code"]',function(){9==$(this).val().length&&$.ajax({url:"/cep/"+$(this).val(),type:"GET",success:e=>{$('[name="address"]').val(e.logradouro),$('[name="address2"]').val(e.bairro),$('[name="state"]').val(e.uf),e.uf&&$('[name="state"]').trigger("change"),setTimeout(()=>{$('[name="city"]').val(e.localidade),e.localidade&&$('[name="city"]').trigger("change")},1e3),$('[name="number"]').focus()}})}),$(document).on("keyup blur",'[name="post_code"], .post_code',function(){$(this).parent().parent().find("input, select").attr("readonly",!1),$(this).parent().parent().find("input, select").trigger("change"),9==$(this).val().length&&($(".loadCep").removeClass("d-none"),$.ajax({url:"/cep/"+$(this).val(),type:"GET",success:e=>{$('[name="address"], .address').val(e.logradouro),$('[name="address2"], .address2').val(e.bairro),$('[name="state"], .state').val(e.uf),e.uf&&$('[name="state"], .state').trigger("change"),setTimeout(()=>{$('[name="city"], .city').val(e.localidade),e.localidade&&$('[name="city"], .city').trigger("change")},1e3),$('[name="number"], .number').focus(),$(".loadCep").addClass("d-none")}}))}),$(document).on("click",".apagar-produto",function(e){e.preventDefault();var a=$(this).data("href");Swal.fire({icon:"error",title:"Apagar Produto?",showCancelButton:!0,confirmButtonText:"SIM",cancelButtonText:"NÃO"}).then(e=>{e.isConfirmed&&(window.location.href=a)})}),$(document).on("click",".apagar-service",function(e){e.preventDefault();var a=$(this).data("href");Swal.fire({icon:"error",title:"Apagar Serviço?",showCancelButton:!0,confirmButtonText:"SIM",cancelButtonText:"NÃO"}).then(e=>{e.isConfirmed&&(window.location.href=a)})}),$(document).on("show.bs.modal","#novoProduto, #editarProduto",function(e){var a=1050+10*$(".modal:visible").length;$(this).css("z-index",a),setTimeout(function(){$(".modal-backdrop").not(".modal-stack").first().css("z-index",a-1).addClass("modal-stack")},0)}).on("hidden.bs.modal","#novoProduto, #editarProduto",function(e){$(".modal:visible").length&&$("body").addClass("modal-open")}),$(document).on("show.bs.modal","#novaCategoria",function(e){var a=1051+10*$(".modal:visible").length;$(this).css("z-index",a),setTimeout(function(){$(".modal-backdrop").not(".modal-stack").first().css("z-index",a-1).addClass("modal-stack")},0)}).on("hidden.bs.modal","#novaCategoria",function(e){$(".modal:visible").length&&$("body").addClass("modal-open")}),$(document).on("show.bs.modal",".note-modal",function(e){var a=1e4+10*$(".modal:visible").length;$(this).css("z-index",a),setTimeout(function(){$(".modal-backdrop").not(".modal-stack").first().css("z-index",a-1).addClass("modal-stack")},0)}).on("hidden.bs.modal",".note-modal",function(e){$(".modal:visible").length&&$("body").addClass("modal-open")}),$(document).on("inserted.bs.tooltip",function(e){var a=1e5+10*$(".modal:visible").length,t=$(e.target).attr("aria-describedby");$("#"+t).css("z-index",a)}),$(document).on("inserted.bs.popover",function(e){var a=1e5+10*$(".modal:visible").length,t=$(e.target).attr("aria-describedby");$("#"+t).css("z-index",a)}),$(".custom-file input").change(function(e){for(var a=[],t=0;t<$(this)[0].files.length;t++)a.push($(this)[0].files[t].name);$(this).next(".custom-file-label").html(a.join(", "))}),$(function(){$('[name="estado"]')&&$.ajax({url:"/buscaEstado",type:"GET",success:e=>{for(var a=0;e.length>a;a++)$('[name="estado"]').append('<option value="'+e[a].sigla+'" data-estado_id="'+e[a].id+'">'+e[a].sigla+" - "+e[a].titulo+"</option>").selectpicker("refresh")}}),$('[name="edit_estado"]')&&$.ajax({url:"/buscaEstado",type:"GET",success:e=>{for(var a=0;e.length>a;a++)$('[name="edit_estado"]').append('<option value="'+e[a].sigla+'" data-estado_id="'+e[a].id+'">'+e[a].sigla+" - "+e[a].titulo+"</option>").selectpicker("refresh")}}),$('[name="estado_id"]')&&$.ajax({url:"/buscaEstado",type:"GET",success:e=>{for(var a=0;e.length>a;a++)$('[name="estado_id"]').append('<option value="'+e[a].id+'" data-estado_id="'+e[a].id+'">'+e[a].sigla+" - "+e[a].titulo+"</option>")}}),$('[name="edit_estado_id"]')&&$.ajax({url:"/buscaEstado",type:"GET",success:e=>{for(var a=0;e.length>a;a++)$('[name="edit_estado_id"]').append('<option value="'+e[a].id+'" data-estado_id="'+e[a].id+'">'+e[a].sigla+" - "+e[a].titulo+"</option>")}})}),$(document).on("change",'[name="estado"]',function(){let e=$(this).find(":selected").data("estado_id"),a=$(this).parent().parent().parent().find('select[name="cidade"]');$.ajax({url:"/buscaCidade/"+e,type:"GET",success:e=>{a.empty().selectpicker("refresh"),a.append('<option value="">- Selecione uma Cidade -</option>');for(var t=0;e.length>t;t++)a.append('<option value="'+e[t].titulo+'" data-cidade_id="'+e[t].id+'">'+e[t].titulo+"</option>");a.selectpicker("refresh")}})}),$(document).on("change",'[name="cidade"]',function(){let e=$(this).find(":selected").data("cidade_id");$.ajax({url:"/buscaBairro/"+e,type:"GET",success:e=>{0==e.length?($(".bairro_select").addClass("d-none").removeAttr("name"),$(".bairro_input").removeClass("d-none").attr("name","bairro")):($(".bairro_select").removeClass("d-none").attr("name","bairro[]"),$(".bairro_input").addClass("d-none").removeAttr("name")),$("select.bairro_select").empty().selectpicker("refresh"),$("select.bairro_select").append('<option value="">- Selecione um Bairro -</option>');for(var a=0;e.length>a;a++)$("select.bairro_select").append('<option value="'+e[a].titulo+'">'+e[a].titulo+"</option>");$("select.bairro_select").selectpicker("refresh")}})}),$(document).on("change",'[name="edit_estado"]',function(){let e=$(this).find(":selected").data("estado_id"),a=$(this).parent().parent().parent().find('select[name="edit_cidade"]');$.ajax({url:"/buscaCidade/"+e,type:"GET",success:e=>{a.empty().selectpicker("refresh"),a.append('<option value="">- Selecione uma Cidade -</option>');for(var t=0;e.length>t;t++)a.append('<option value="'+e[t].titulo+'" data-cidade_id="'+e[t].id+'">'+e[t].titulo+"</option>");a.selectpicker("refresh")}})}),$(document).on("change",'[name="edit_cidade"]',function(){let e=$(this).find(":selected").data("cidade_id");var a=$(this).parent().parent().parent();$.ajax({url:"/buscaBairro/"+e,type:"GET",success:e=>{0==e.length?(a.find(".bairro_select").addClass("d-none").removeAttr("name"),a.find(".bairro_input").removeClass("d-none").attr("name","edit_bairro")):(a.find(".bairro_select").removeClass("d-none").attr("name","edit_bairro"),a.find(".bairro_input").addClass("d-none").removeAttr("name")),a.find("select.bairro_select").empty().selectpicker("refresh"),a.find("select.bairro_select").append('<option value="">- Selecione um Bairro -</option>');for(var t=0;e.length>t;t++)a.find("select.bairro_select").append('<option value="'+e[t].titulo+'">'+e[t].titulo+"</option>");a.find("select.bairro_select").selectpicker("refresh")}})}),$(document).on("change",'[name="estado_id"]',function(){let e=$(this).find(":selected").data("estado_id"),a=$(this).parent().parent().find('select[name="cidade_id"]');$.ajax({url:"/buscaCidade/"+e,type:"GET",success:e=>{a.empty(),a.append('<option value="">- Selecione uma Cidade -</option>');for(var t=0;e.length>t;t++)a.append('<option value="'+e[t].id+'" data-cidade_id="'+e[t].id+'">'+e[t].titulo+"</option>")}})}),$(document).on("change",'[name="edit_estado_id"]',function(){let e=$(this).find(":selected").data("estado_id"),a=$(this).parent().parent().find('select[name="edit_cidade_id"]');$.ajax({url:"/buscaCidade/"+e,type:"GET",success:e=>{a.empty(),a.append('<option value="">- Selecione uma Cidade -</option>');for(var t=0;e.length>t;t++)a.append('<option value="'+e[t].id+'" data-cidade_id="'+e[t].id+'">'+e[t].titulo+"</option>")}})}),$("form").on("submit",function(e){$(this).find(".btn-salvar").length>0&&(e.preventDefault(),$(this).find(".btn-salvar").trigger("click"))}),$("form").find("input").on("keyup",function(e){e.preventDefault(),13==e.keyCode&&($(this).is(".keywords-add")||$(this).is(".address-maps")||$(this).closest("form").find(".btn-salvar").trigger("click"))}),$(document).on("click",".btn-ME-purchase",function(){var e=$(this).data("id");$("#MEPurchase").find('[name="id"]').val(e),$("#MEPurchase").find(".agency").removeClass("d-none"),$("#MEPurchase").find("#agency").empty(),$.ajax({url:"melhor_envio/dados/"+e,type:"GET",success:e=>{if(console.log(e),e.agencies)for(var a=0;e.agencies.length>a;a++)$("#MEPurchase").find("#agency").append('<option value="'+e.agencies[a].id+'" data-dados="'+JSON.stringify(e.agencies[a])+'">'+e.agencies[a].company_name+" - "+e.agencies[a].name+"</option>");else $("#MEPurchase").find(".agency").addClass("d-none");$("#MEPurchase").find("._name_service").html(e.service.name)}})});var c=Swal.mixin({toast:!0,position:"center",showConfirmButton:!1,timer:4e3});$("#table_one").DataTable({responsive:!1,autoWidth:!1,language:language_pt_br,buttons:["copy","csv","colvis"],order:[[1,"desc"]]}).buttons().container().appendTo("#table_one_wrapper .col-md-6:eq(0)");$(".img_icon").on("change",function(){function e(e){if(/\.(jpe?g|png|gif)$/i.test(e.name)){var a=new FileReader;a.addEventListener("load",function(){var a=new Image;a.classList="rounded",a.width=45,a.title=e.name,a.src=this.result,t.append(a)},!1),a.readAsDataURL(e)}}var a=$(this).parent().parent();a.find(".img-icon").empty();var t=a.find(".img-icon"),o=a.find(".img_icon").prop("files");o&&[].forEach.call(o,e)}),$('[name="logo_path"]').on("change",function(){function e(e){if(/\.(jpe?g|png|gif)$/i.test(e.name)){var t=new FileReader;t.addEventListener("load",function(){var t=new Image;t.classList="rounded",t.width=100,t.title=e.name,t.src=this.result,a.append(t)},!1),t.readAsDataURL(e)}}$(this).parent().find(".logo_path").empty();var a=$(this).parent().find(".logo_path"),t=$(this).prop("files");t&&[].forEach.call(t,e)}),$('[name="banner_path"]').on("change",function(){function e(e){if(/\.(jpe?g|png|gif)$/i.test(e.name)){var t=new FileReader;t.addEventListener("load",function(){var t=new Image;t.classList="rounded",t.width=280,t.title=e.name,t.src=this.result,a.append(t)},!1),t.readAsDataURL(e)}}if($(this).is(".custom-file-input")?$(this).parent().parent().find(".banner_path").empty():$(this).parent().find(".banner_path").empty(),$(this).is(".custom-file-input"))var a=$(this).parent().parent().find(".banner_path");else a=$(this).parent().find(".banner_path");var t=$(this).prop("files");t&&[].forEach.call(t,e)}),$('[name="banner_path_two"]').on("change",function(){function e(e){if(/\.(jpe?g|png|gif)$/i.test(e.name)){var t=new FileReader;t.addEventListener("load",function(){var t=new Image;t.classList="rounded",t.width=280,t.title=e.name,t.src=this.result,a.append(t)},!1),t.readAsDataURL(e)}}if($(this).is(".custom-file-input")?$(this).parent().parent().find(".banner_path_two").empty():$(this).parent().find(".banner_path_two").empty(),$(this).is(".custom-file-input"))var a=$(this).parent().parent().find(".banner_path_two");else a=$(this).parent().find(".banner_path_two");var t=$(this).prop("files");t&&[].forEach.call(t,e)}),$(document).on("click",'[data-toggle="modal"]',function(){$(".modal-content").find(".overlay").remove(),$(".modal-content").find(".perecivel").removeClass("d-none"),$(".modal-content").find("#frete_gratis").prop("checked",!0).trigger("click"),$("#postNovoProduto").find(".fatores-negacao").empty().addClass("d-none"),$("#postNovoProduto").find(".fatores-negacao-nativo").empty().addClass("d-none"),$("#postNovoProduto").find(".aprovacao").remove(),$("#postNovoProduto").find(".btns-apro-neg").addClass("d-none")}),$(document).on("click",".btn-salvar",function(){let t=$(this).data("save_target"),o=$(this).data("save_route"),n=$(this).data("update_table"),i=$(this).data("table_html")||null,r=$(this).data("refresh"),s=$(this).data("trash");a($(t).serializeArray(),t),$(t).find("input").removeClass("is-invalid"),$(t).find(".invalid-feedback").remove();let d=$(t).parent();d.is(".modal-content")&&d.append('<div class="overlay d-flex justify-content-center align-items-center"><i class="fas fa-2x fa-sync fa-spin"></i></div>');var l=!0;$(t).find(".required").each(function(){""==$(this).val()||"0,00"==$(this).val()?($(this).addClass("is-invalid"),l=!1):$(this).removeClass("is-invalid")}),l?$.ajax({url:o,type:"POST",data:new FormData($(t)[0]),cache:!1,contentType:!1,processData:!1,success:a=>{$(d).find(".overlay").remove(),$(d).parent().parent().modal("hide"),$(t).find('input[type="text"]').val(""),$(t).find('input[type="checkbox"]').prop("checked",!1).trigger("change"),$(t).find(".perecivel").removeClass("d-none"),$(t).find("select").val("").trigger("change"),$(t).find(".select2").val([]).trigger("change"),$(t).find(".selectpicker").val("").trigger("change"),$(t).find('input[type="number"]').val(""),$(t).find('input[type="file"]').val("").next(".custom-file-label").html("Imagem Pequena (45x45)"),$(t).find(".img-icon").empty(),$(t).find(".btn-remove-image").trigger("click"),$(t).find("input, select").attr("readonly",!1),$(t).find(".note-editable").empty(),$(t).find(".check-variation").prop("checked",!1),$(t).find(".variacoes").empty(),$("#postNovoProduto").find(".aprovacao").remove(),"S"==n&&a.table&&$("table tbody").append(a.table),"S"==n&&a.tb_up&&$("table tbody").find(".tr-id-"+a.tb_id).html(a.tb_up),i&&a.table_html&&$(i).html(a.table_html),"S"==s?(a.tb_trash&&$("table tbody").find(".tr-id-"+a.tb_trash).remove(),c.fire({icon:"success",title:"Os dados foram excluidos com successo!"})):c.fire({icon:"success",title:"Os dados foram salvos com successo!"}),"S"==r&&setTimeout(()=>{window.location.reload()},1200),e(a,t)},error:e=>{$(d).find(".overlay").remove(),console.log(e.status),500==e.status&&Swal.fire({icon:"error",text:"Erro interno do servidor, contate o Administrador!"});let a=e.responseJSON.errors;$.each(a,(e,a)=>{let o=$(t).find('[name="'+e+'"]');o.addClass("is-invalid"),o.parent().append('<div class="invalid-feedback">'+a[0]+"</div>")}),e.responseJSON.msg_alert&&Swal.fire({icon:e.responseJSON.icon_alert,text:e.responseJSON.msg_alert})}}):$(d).find(".overlay").remove()}),$(document).on("click",".btn-editar",function(){var e=$(this).data("target"),a=$(this).data("dados");$(this).data("images");$(e).find(".keywords_add").empty();var t=null,o=null,n=null,i=null,r=null,s=null,d=null,c=null,l=null;$.each(a,(a,p)=>{if("icon"!==a&&"banner_path"!==a&&$(e).find('[name="'+a+'"').val(p),$(e).find("."+a).val(p),$(e).find("._"+a).text(p),"keywords"==a)for(var u=0;p.length>u;u++)$(".keywords_adds").append(`\n                        <tr>\n                            <td class="border-right border-bottom" width="5%"><button type="button" class="btn py-0 btn-remove-keyword">x</button></td>\n                            <td class="border-bottom"><input type="hidden" name="keywords[]" value="${p[u]}">  <span class="ml-2">${p[u]}</span></td>\n                        </tr>\n                    `);"banner_path"==a&&$(e).find(".banner_path").html('<img class="rounded" width="280" src="/storage/'+p+'">'),"description"==a&&$(e).find(".note-editable").html(p),"estado"==a&&(t=p),"cidade"==a&&(o=p),"bairro"==a&&(n=p),"localidade_estado_id"==a&&(i=p),"localidade_municipio_id"==a&&(r=p),"titulo"==a&&(s=p),"toda_cidade"==a&&1==p&&$(e).find('[name="'+a+'"').prop("checked",!0).trigger("change"),"em_todas_cidades"==a&&1==p&&$(e).find('[name="'+a+'"').prop("checked",!0).trigger("change"),"tempo"==a&&$(e).find('[name="'+a+'"]').trigger("change"),"semana"==a&&$.each(p,(e,a)=>{$(".semana").find('[value="'+a+'"]').prop("checked",!0)}),"frete_gratis"==a&&1==p&&$(e).find('[name="'+a+'"]').trigger("click"),"price"==a&&p>0&&$(e).find('[name="'+a+'"]').val(p.toString().replace(/\./g,",")),"bank"==a&&(d=p),"price_type"==a&&("percentage"==p?$(e).find(".price-0").prop("checked",!0):"money"==p&&$(e).find(".price-1").prop("checked",!0)),"type"==a&&("checking"==p?c="conta_corrente":"savings"==p&&(c="conta_poupanca")),"holder_type"==a&&("individual"==p?l="":"company"==p&&(l="_conjunta"))}),setTimeout(()=>{$(e).find('[name="type"]').val(c+l),$(e).find(".bank").selectpicker("val",d).trigger("change")},200),setTimeout(()=>{$(e).find('[name="edit_estado"]').selectpicker("val",t).trigger("change"),setTimeout(()=>{$(e).find('[name="edit_cidade"]').selectpicker("val",o).trigger("change"),setTimeout(()=>{$(e).find('[name="edit_bairro"]').selectpicker("val",n)},1700)},1100)},700),setTimeout(()=>{$(e).find('[name="edit_estado_id"]').val(i).trigger("change"),setTimeout(()=>{$(e).find('[name="edit_cidade_id"]').val(r),setTimeout(()=>{$(e).find('[name="edit_bairro_name"]').val(s)},1200)},800)},400)}),$(document).on("click",'[name="stock_controller"]',function(e){$(this).prop("checked")?(!0!==$('[name="check_variation"]').prop("checked")&&($(".stock").removeClass("d-none"),$(".vaga").removeClass("d-none")),$(".stock-attr").removeClass("d-none"),$(".vaga-attr").removeClass("d-none")):(!0!==$('[name="check_variation"]').prop("checked")&&($(".stock").addClass("d-none"),$(".vaga").addClass("d-none"),$(".stock").find("input").val(""),$(".vaga").find("input").val("")),$(".stock-attr").addClass("d-none"),$(".vaga-attr").addClass("d-none"),$(".stock-attr").find("input").val(""),$(".vaga-attr").find("input").val(""))}),$(document).on("click",".btn-add-image",function(e){e.preventDefault(),$(this).parent().find(".add-image").trigger("click")}),$(document).on("change",".add-image",function(){function e(e){if(/\.(jpe?g|png|gif)$/i.test(e.name)){var a=new FileReader;i.val(e.name),a.addEventListener("load",function(){var a=new Image;a.classList="rounded img-fluid img-bordered",a.title=e.name,a.src=this.result,n.append(a)},!1),a.readAsDataURL(e)}}$(this).removeClass("add-image"),$(this).parent().find(".btn-add-image").removeClass("btn-success btn-add-image").addClass("btn-danger btn-remove-image").html("x");for(var a=0,t=0;$(this).parent().parent().find(".imgs-count").length+1>t;t++)$(this).parent().parent().find(".imgs-count").is(".img-find-"+t)||(a=t);$(this).parent().parent().prepend('<div class="col-6 col-md-3 imgs-count img-find-'+a+'"><button type="button" class="btn btn-success btn-add-image">+</button><input type="file" class="d-none add-image" name="imagem['+a+'][img]"><input type="text" class="form-control form-control-sm mt-1 file-title d-none" name="imagem['+a+'][name]"><div class="image my-2"></div></div>');var o=$(this).parent(),n=o.find(".image"),i=o.find(".file-title"),r=$(this).prop("files");$(this).parent().parent().is(".not-display-input")||$(this).parent().find(".file-title").removeClass("file-title d-none"),r&&[].forEach.call(r,e)}),$(document).on("click",".btn-remove-image",function(){$(this).parent().remove()}),$(document).on("click",".btn-excluir-categoria",function(){var e=$(this).data("target"),a=$(this).data("dados");$(e).find(".modal-title").html('Excluir Categoria <strong>"'+a.name+'"</strong>'),$(e).find('[name="id"]').val(a.id),$.ajax({url:"/admin/cadastro/pesquisa_categoria_produto",type:"POST",data:{id:a.id},success:a=>{$(e).find(".modal-body").empty(),"produto"==a.tipo?a.dados.length>0?($(e).find(".modal-footer").find("button").eq(1).addClass("d-none"),$(e).find(".modal-body").append("<p>Essa categoria não pode ser excluida porque possui <strong>"+a.dados.length+"</strong> Produtos vinculados!</p>"),$(e).find(".modal-body").append("<p>Inative os Produtos vinculados ou altere a Categoria vinculado ao Produto para excluir!</p>")):($(e).find(".modal-footer").find("button").eq(1).removeClass("d-none"),$(e).find(".modal-body").append("<p>Tem certeza que deseja excluir essa categoria?</p>")):"categoria"==a.tipo&&(a.dados.length>0?($(e).find(".modal-footer").find("button").eq(1).addClass("d-none"),$(e).find(".modal-body").append("<p>Essa categoria não pode ser excluida porque possui <strong>"+a.dados.length+"</strong> Sub Categorias vinculados!</p>"),$(e).find(".modal-body").append("<p>Exclua as Sub Categorias vinculadas para excluir a Principal!</p>")):($(e).find(".modal-footer").find("button").eq(1).removeClass("d-none"),$(e).find(".modal-body").append("<p>Tem certeza que deseja excluir essa categoria?</p>")))}})}),$(document).on("click",".btn-confirma-exclusao-categoria",function(){let e=$("#postExcluirCategoria").parent();e.is(".modal-content")&&e.append('<div class="overlay d-flex justify-content-center align-items-center"><i class="fas fa-2x fa-sync fa-spin"></i></div>'),$.ajax({url:"/admin/cadastro/excluir_categoria",type:"POST",data:$("#postExcluirCategoria").serialize(),success:a=>{$(e).find(".overlay").remove(),$(e).parent().parent().modal("hide"),$(".tr-id-"+a.category_id).remove(),c.fire({icon:"success",title:"Os dados foram apagados com successo!"})},error:a=>{$(e).find(".overlay").remove()}})}),$(document).on("click",".btn-visualizar",function(){var e=$(this).data("target"),a=$(this).data("dados");console.log(a),$.each(a,(a,t)=>{switch($(e).find("._"+a).text(t),"product_value"!=a&&"cost_freight"!=a&&"total_value"!=a||$(e).find("._"+a).text("R$ "+(parseFloat(t)||0).toFixed(2).toString().replace(".",",")),a){case"birth_date":var o=t.split("-");$(e).find("._"+a).text(o[2]+"/"+o[1]+"/"+o[0]);break;case"order_products":$(e).find(".produtos_pedido").empty();for(var n=0;n<t.length;n++){for(var i="",r=0;r<t[n].attributes.length;r++){var s=t[n].attributes[r].split("|");i+='<div class="col-12">'+s[1]+" - "+parseFloat(s[2]||0).toFixed(2).toString().replace(".",",")+"</div>"}var d="";for(r=0;r<t[n].project.length;r++){s=t[n].project[r].split("|");d+='<div class="col-12">L: '+s[0]+" - A: "+s[1]+" - M²: "+s[2]+"</div>"}
$(e).find(".produtos_pedido").append('<div class="row border-bottom my-2"><div class="col-12 col-md-4"><b>Codigo do Produto: </b>'+t[n].product_code+'</div><div class="col-12 col-md-4"><b>Nome do Produto: </b>'+t[n].product_name+'</div><div class="col-12 col-md-4"><b>Quantidade: </b>'+t[n].quantity+'</div><div class="col-12 col-md-4"><b>Tipo de Venda: </b>'+t[n].product_sales_unit+'</div><div class="col-12 col-md-4"><b>Largura Padrão: </b>'+t[n].product_width+' cm</div><div class="col-12 col-md-4"><b>Altura Padrão: </b>'+t[n].product_height+' cm</div><div class="col-12 col-md-4"><b>Comprimento Padrão: </b>'+t[n].product_length+' cm</div><div class="col-12 col-md-4"><b>Peso Padrão: </b>'+t[n].product_weight+' kg</div><div class="col-12"><h5>Calculo do projeto</h5></div><div class="col-12 col-md-4"><b>Largura do Projeto: </b>'+t[n].project_width+'</div><div class="col-12 col-md-4"><b>Altura do Projeto: </b>'+t[n].project_height+'</div><div class="col-12 col-md-4"><b>M² do Projeto: </b>'+t[n].project_meters+'</div><div class="col-12 my-2"><h5>Atributos</h5></div><div class="col-12 col-md-4"><div class="row">'+i+'</div></div><div class="col-12 my-2"><h5>Projeto</h5></div><div class="col-12 col-md-4"><div class="row">'+d+"</div></div></div>")}break;case"shipping_customer":$(e).find(".entrega_pedido").empty(),$(e).find(".entrega_pedido").append('<div class="row border-bottom my-2"><div class="col-12 col-md-6">'+t[0].address+", Nª "+t[0].number+" - "+t[0].address2+'</div><div class="col-12 col-md-6">'+t[0].city+" / "+t[0].state+" - "+t[0].post_code+'</div><div class="col-12">'+t[0].phone1+" / "+t[0].phone2+'</div><div class="col-12 col-md-4"><b>Transportadora: </b>'+t[0].transport+" - <b>Data Estimada: </b> "+t[0].time+" dias</div></div>");break;case"payment_order":$(e).find(".pagamento_pedido").empty();for(n=0;n<t.length;n++)"approved"==t[n].status&&$(e).find(".pagamento_pedido").append('<div class="row border-bottom my-2"><div class="col-12 col-md-4"><b>Total Pago: </b>'+(parseFloat(t[n].total_paid_amount)||0).toFixed(2).toString().replace(".",",")+'</div><div class="col-12 col-md-4"><b>Parcelamento: </b>'+t[n].installments+" x "+(parseFloat(t[n].installment_amount)||0).toFixed(2).toString().replace(".",",")+'</div><div class="col-12 col-md-4"><b>Recebido no Total: </b>'+(parseFloat(t[n].net_received_amount)||0).toFixed(2).toString().replace(".",",")+'</div><div class="col-12 col-md-4"><b>Taxa Paga a Operadora: </b>'+t[n].rate_mp+'</div><div class="col-12 col-md-4"><b>Metodo de Pagamento: </b>'+t[n].payment_method_id+'</div><div class="col-12 col-md-4"><b>Tipo de Pagamento: </b>'+t[n].payment_type_id+'</div><div class="col-12 col-md-4"><b>Nome do Pagador: </b>'+t[n].payer_name+'</div><div class="col-12 col-md-4"><b>CNPJ/CPF do Pagador: </b>'+t[n].payer_cnpj_cpf+"</div></div>")}})}),$(document).on("click",".codigoAdd",function(){var e=$(this).data("order_number"),a=$(this).data("url");Swal.fire({title:"Adicionar Código de Rastreio",html:'<input id="swal-input1" class="swal2-input" placeholder="Codigo/Texto"><input id="swal-input2" class="swal2-input" placeholder="Link"><select id="swal-input3" class="swal2-input"><option value="proprio">Transporte Próprio</option><option value="https://www.websro.com.br/rastreamento-correios.php?P_COD_UNI={code}">Correios</option><option value="https://www.jadlog.com.br/tracking?cte={code}">Jadlog</option></select>',showCancelButton:!0,confirmButtonText:"Adicionar",cancelButtonText:"Cancelar",focusConfirm:!1,preConfirm:()=>[document.getElementById("swal-input1").value,document.getElementById("swal-input2").value,document.getElementById("swal-input3").value]}).then(t=>{t.isConfirmed&&(Swal.fire({title:"Salvando, aguarde...",allowOutsideClick:!1,timerProgressBar:!0,didOpen:()=>{Swal.showLoading()}}),$.ajax({url:a,type:"POST",data:{order_number:e,codigo:t.value[0],link:t.value[1],rastreio_url:t.value[2]},success:e=>{window.location.reload()}}))})}),$(document).on("change","#swal-input3",function(){$("#swal-input2").removeClass("d-none"),"proprio"!==$(this).val()&&$("#swal-input2").addClass("d-none")}),$(document).on("click",".alterarStatusOrder",function(){var e=$(this).data("order_number"),a=$(this).data("url");Swal.fire({icon:"warning",title:"Alterar Status do Pedido?",input:"select",inputOptions:{0:"Aguardando Pagamento",1:"Em Andamento",2:"Finalizado",3:"Cancelado"},inputPlaceholder:"Selecione uma Opção",showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Cancelar"}).then(t=>{if(t.isConfirmed){switch(t.value){case"0":$(".tr-order-id-"+e).find(".btn-status-pay").css("background-color","#fdc300").html("Aguardando Pagamento");break;case"1":$(".tr-order-id-"+e).find(".btn-status-pay").css("background-color","#58bc9a").html("Em Andamento");break;case"2":$(".tr-order-id-"+e).find(".btn-status-pay").css({"background-color":"#c6d300",height:"52px"}).html("Finalizado");break;case"3":$(".tr-order-id-"+e).find(".btn-status-pay").css({"background-color":"#db5812",height:"52px"}).html("Cancelado")}$.ajax({url:a,type:"POST",data:{order_number:e,status:t.value},success:e=>{}})}})}),$(document).on("click",".alterarStatusContact",function(){var e=$(this),a=$(this).data("id"),t=$(this).data("url");Swal.fire({icon:"warning",title:"Alterar Status do Contato?",input:"select",inputOptions:{0:"Aguardando",1:"Em Andamento",2:"Já Resolvido"},inputPlaceholder:"Selecione uma Opção",showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Cancelar"}).then(o=>{if(o.isConfirmed){switch(o.value){case"0":e.parent().parent().find(".btn-status-contact").css("background-color","#fdc300").html("Em Andamento");break;case"1":e.parent().parent().find(".btn-status-contact").css("background-color","#58bc9a").html("Já Resolvido")}$.ajax({url:t,type:"POST",data:{id:a,status:o.value},success:e=>{c.fire({icon:"success",title:"Status alterado com sucesso!"})}})}})}),$(document).on("change",".selectResponsavel",function(){var e=$(this).data("id"),a=$(this).data("url");$.ajax({url:a,type:"POST",data:{id:e,responsavel_id:$(this).val()},success:e=>{c.fire({icon:"success",title:"Responsavel Trocado com sucesso!"})}})}),$(document).on("change",".selectStatus",function(){var e=$(this).data("id"),a=$(this).data("url");$.ajax({url:a,type:"POST",data:{id:e,status:$(this).val()},success:e=>{c.fire({icon:"success",title:"Status atualizado com sucesso!"})}})}),$(document).on("click",".btn-send-admin-star",function(){var e=$(this),a=e.parent().parent().parent().find("textarea").val(),t=$(this).html();$(this).html('<div class="spinner-border" role="status"><span class="sr-only">Loading...</span></div>'),$(this).parent().find("a").prop("disabled",!0),$.ajax({url:e.data("route"),type:"POST",data:{info:e.data("info"),comment:a,id:e.data("id")},success:a=>{e.html(t),e.parent().parent().parent().remove(),1==e.data("info")?c.fire({icon:"success",title:"Avaliação Aprovada com sucesso!"}):c.fire({icon:"success",title:"Avaliação Negada/Excluida!"})}})}),$(document).on("click",".btn-new-attr",function(){var e=$("select.seller_id").val()||$(".seller_id").val();$(this).data("idrand"),$(this).data("inputrand");Swal.fire({title:"Criar Novo Atributo",input:"text",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,confirmButtonText:"Criar",cancelButtonText:"Cancelar"}).then(a=>{a.isConfirmed&&(Swal.fire({title:"Criando Atributo",allowOutsideClick:!1,timerProgressBar:!0,didOpen:()=>{Swal.showLoading()}}),$.ajax({url:"/produto-attr/new",type:"POST",data:{seller_id:e,attr_name:a.value},success:e=>{$("select.select-attr").append('<option value="'+e.id+'">'+e.name+"</option>").selectpicker("refresh");var a=$("select.select-attr").val();a.push(e.id),$("select.select-attr").val(a).trigger("change"),Swal.fire({icon:"success",title:"Atributo Criado"})},error:e=>{Swal.fire({icon:"error",title:"Erro na criação do Atributo!"})}}))})}),$(document).on("click",".btn-new-attr-value",function(){var e=$(this),a=$(this).parent().parent().find("select").data("attr_id"),t=$("select.seller_id").val()||$(".seller_id").val();Swal.fire({title:"Novo Variação do Atributo",input:"text",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,confirmButtonText:"Criar",cancelButtonText:"Cancelar"}).then(o=>{o.isConfirmed&&(Swal.fire({title:"Criando Variação",allowOutsideClick:!1,timerProgressBar:!0,didOpen:()=>{Swal.showLoading()}}),$.ajax({url:"/produto-attr/new",type:"POST",data:{seller_id:t,attr_id:a,value_name:o.value},success:t=>{$("select.attr-variation-"+a).append('<option value="'+t.id+"-"+a+'">'+t.name+"</option>"),e.parent().parent().find("select").val(t.id+"-"+a),Swal.fire({icon:"success",title:"Variação Criado"})}}))})}),$(document).on("changed.bs.select","select.select-attr",function(e,a,t,o){var n=$($("select.select-attr").find("option")[a]).attr("value"),i=$($("select.select-attr").find("option")[a]).attr("value");$(".select-variation-"+n).remove(),t&&$(".variacoes").find(".card").each(function(){var e=$(this).data("varranid");if(0==$(this).find(".select-variation-"+i).length){var a=$(this).find("ul");$.ajax({url:"/geral/busca-attrs-var",type:"POST",data:{seller_id:$('[name="seller_id"]').val(),attr_id:i},success:t=>{var o='<li class="list-group-item p-0 pb-3 select-variation-'+t.id+'">';o+='<label for="id_variation'+e+"attributos"+t.id+'">'+t.name+":</label>",o+='<div class="input-group">',o+='<select class="form-control attr-variation-'+t.id+'" id="id_id_variation'+e+"attributos"+t.id+'" data-attr_id="'+t.id+'" name="variations['+e+'][attributos][]">',o+='<option value="0-'+t.id+'">Qualquer um</option>';for(var n=0;t.variations.length>n;n++)o+='<option value="'+t.variations[n].id+"-"+t.id+'">'+t.variations[n].name+"</option>";o+="</select>",o+='<div class="input-group-append">',o+='<button class="btn btn-success btn-new-attr-value" type="button">Criar Variação</button>',o+="</div>",o+="</div>",o+="</li>",a.append(o)}})}})}),$(document).on("change","select.seller_id",function(){var e=$("select.seller_id").val();$("select.select-attr").empty().selectpicker("refresh"),$.ajax({url:"/geral/busca-attrs",type:"POST",data:{seller_id:e},success:e=>{$.each(e,(e,a)=>{$("select.select-attr").append('<option value="'+a.id+'">'+a.name+"</option>").selectpicker("refresh")})}})}),$(document).on("click",".check-variation",function(){if($(this).prop("checked")){var e=$("select.select-attr").attr("data-ids_attrs")||null;$(".div-variacoes").removeClass("d-none"),$(".price-variation, .perecivel, .stock, .vaga, .div-desconto").addClass("d-none"),$(".price-variation, .perecivel, .stock, .vaga, .div-desconto").find("input").val(""),$('[name="hospedagem_controller"]').prop("checked")&&$(".vaga").removeClass("d-none").find("input").val("1"),$("#novoProduto").animate({scrollTop:$(".div-variacoes").offset().top-180},"slow"),$("select.select-attr").val("").trigger("change"),$("select.select-attr").empty().selectpicker("refresh"),$.ajax({url:"/geral/busca-attrs",type:"POST",data:{seller_id:$('[name="seller_id"]').val()},success:a=>{$.each(a,(e,a)=>{$("select.select-attr").append('<option value="'+a.id+'">'+a.name+"</option>").selectpicker("refresh")}),e&&$("select.select-attr").val(e.split(",")).trigger("change")}})}else!0!==$("[name='check_desconto']").prop("checked")?$(".price-variation").removeClass("d-none"):$(".div-desconto").removeClass("d-none"),$(".div-variacoes").addClass("d-none"),$("select.select-attr").val("").trigger("change"),$("select.select-attr").empty().selectpicker("refresh"),$(".select-attr").attr("data-ids_attrs",""),$(".seller_id").selectpicker("val",""),$(".variacoes").empty(),!0!==$('[name="perecivel"]').prop("checked")&&$(".perecivel").removeClass("d-none")}),$(document).on("click",".btn-add-variation",function(){var e=$("select.select-attr").val();$.ajax({url:"/produto/variations/index",type:"POST",data:{seller_id:$(".seller_id").val(),transporte_proprio:$('[name="perecivel"]').prop("checked")?"true":"false",stock_controller:$('[name="stock_controller"]').prop("checked")?"true":"false",attrs_id:e,check_discount:$('[name="check_desconto"]').prop("checked")?"true":"false"},success:e=>{$(".variacoes").prepend(e),$('[data-toggle="popover"]').popover()}})}),$(document).on("click",".btn-analise-product",function(){setTimeout(()=>{$("#postNovoProduto").find(".aprovacao").length>0?$("#postNovoProduto").find(".aprovacao").val("1"):$("#postNovoProduto").append('<input type="hidden" class="aprovacao" name="aprovacao" value="1">')},200),$("#postNovoProduto").find(".btns-apro-neg").removeClass("d-none")}),$(document).on("click",".btn-negar",function(){$("#postNovoProduto").find(".aprovacao").val("0"),$("#postNovoProduto").find(".fatores-negacao").removeClass("d-none").append('<div><div class="row"><div class="col-12 col-md-6 form-group"><select name="fields[0][field_name]" class="form-control select-next" data-placeholder="Selecione um campo"><option value="">Selecione um campo</option><option value="Nome do Produto">Nome do Produto</option><option value="Preço">Preço</option><option value="Peso">Peso</option><option value="Altura">Altura</option><option value="Largura">Largura</option><option value="Comprimento">Comprimento</option><option value="Categorias">Categorias</option><option value="Descrição Curta">Descrição Curta</option><option value="Imagens">Imagens</option><option value="Descrição Completa">Descrição Completa</option></select></div><div class="col-12 col-md-6 form-group"><input type="text" name="fields[0][field_value]" class="form-control" placeholder="Descrição do problema"></div></div></div><div class="mt-2"><textarea class="form-control" name="field_text" placeholder="Mais Informações (Opcional)"></textarea></div>')}),$(document).on("click",".btn-aprovar",function(){$("#postNovoProduto").find(".btns-apro-neg").addClass("d-none"),$("#postNovoProduto").find(".aprovacao").val("1"),$("#postNovoProduto").find(".fatores-negacao").addClass("d-none").empty(),$("#postNovoProduto").find(".btn-salvar").trigger("click")}),$(document).on("change",".check-desconto",function(){$(this).prop("checked")?!0!==$("[name='check_variation']").prop("checked")?$(".div-desconto").removeClass("d-none"):$(".desconto-card").removeClass("d-none"):(!0!==$("[name='check_variation']").prop("checked")&&$(".price-variation").removeClass("d-none"),$(".div-desconto").addClass("d-none"),$(".div-row-desconto").empty(),$(".desconto-card").addClass("d-none"),$(".div-row-desconto-var").empty())}),$(document).on("change",".select-next",function(){$(this).parent().parent().parent().append('<div class="row"><div class="col-12 col-md-6 form-group"><select name="fields['+$(this).parent().parent().parent().find(".row").length+'][field_name]" class="form-control select-next" data-placeholder="Selecione um campo"><option value="">Selecione um campo</option><option value="Nome do Produto">Nome do Produto</option><option value="Preço">Preço</option><option value="Peso">Peso</option><option value="Altura">Altura</option><option value="Largura">Largura</option><option value="Comprimento">Comprimento</option><option value="Categorias">Categorias</option><option value="Descrição Curta">Descrição Curta</option><option value="Imagens">Imagens</option><option value="Descrição Completa">Descrição Completa</option></select></div><div class="col-12 col-md-6 form-group"><input type="text" name="fields['+$(this).parent().parent().parent().find(".row").length+'][field_value]" class="form-control" placeholder="Descrição do problema"></div></div>'),$(this).removeClass("select-next")}),$(document).on("keydown",'[name="descricao_curta"]',function(e){if($(".count-max-length").html("(max. caracteres "+(255-$(this).val().length)+")"),$(this).val().length>=255&&8!=e.keyCode&&9!=e.keyCode)return!1}),$(function(){$(".max-caracteres").each(function(){var e=$(this).data("max_caracteres")||255;$(this).parent().find("label").append('<span class="ml-2 count-max-caracteres-length">(max. caracteres '+e+")</span>")})}),$(document).on("keydown",".max-caracteres",function(e){var a=$(this).data("max_caracteres")||255;if($(this).parent().find(".count-max-caracteres-length").html("(max. caracteres "+(a-$(this).val().length)+")"),$(this).val().length>=a&&8!=e.keyCode&&9!=e.keyCode)return!1}),$(document).on("paste",".max-caracteres",function(e){setTimeout(()=>{var a=$(this).data("max_caracteres")||255;if($(this).parent().find(".count-max-caracteres-length").html("(max. caracteres "+(a-$(this).val().substring(0,$(this).val().length+(a-$(this).val().length)).length)+")"),$(this).val().length>=a&&8!=e.keyCode&&9!=e.keyCode)return $(this).val($(this).val().substring(0,$(this).val().length+(a-$(this).val().length))),!1},100)}),$(document).on("click","#frete_gratis",function(){$(this).prop("checked")?$("#postNovoTransporte").find('[name="valor_minimo"]').parent().removeClass("d-none"):$("#postNovoTransporte").find('[name="valor_minimo"]').parent().addClass("d-none")}),$(document).on("click","#edit_frete_gratis",function(){$(this).prop("checked")?$("#postEditarTransporte").find('[name="valor_minimo"]').parent().removeClass("d-none"):$("#postEditarTransporte").find('[name="valor_minimo"]').parent().addClass("d-none")}),$(document).on("change","#toda_cidade",function(){$(this).prop("checked")?$("#postNovoTransporte").find(".bairro").addClass("d-none"):$("#postNovoTransporte").find(".bairro").removeClass("d-none")}),$(document).on("change","#edit_toda_cidade",function(){$(this).prop("checked")?$("#postEditarTransporte").find(".bairro").addClass("d-none"):$("#postEditarTransporte").find(".bairro").removeClass("d-none")}),$(document).on("change",'[name="tempo"]',function(){"S"==$(this).val()||"C"==$(this).val()?($('[name="tempo_entrega"]').parent().addClass("d-none"),"S"==$(this).val()?$(".semana").removeClass("d-none"):$(".semana").addClass("d-none")):($('[name="tempo_entrega"]').parent().removeClass("d-none"),$(".semana").addClass("d-none"))}),$(document).on("change","#em_todas_cidades",function(){$(this).prop("checked")?($("#postNovoTransporte").find(".bairro").addClass("d-none"),$("#postNovoTransporte").find(".toda_cidade").addClass("d-none"),$("#postNovoTransporte").find(".cidade").addClass("d-none")):($("#postNovoTransporte").find(".bairro").removeClass("d-none"),$("#postNovoTransporte").find(".toda_cidade").removeClass("d-none"),$("#postNovoTransporte").find(".cidade").removeClass("d-none"))}),$(document).on("change","#edit_em_todas_cidades",function(){$(this).prop("checked")?($("#postEditarTransporte").find(".bairro").addClass("d-none"),$("#postEditarTransporte").find(".toda_cidade").addClass("d-none"),$("#postEditarTransporte").find(".cidade").addClass("d-none")):($("#postEditarTransporte").find(".bairro").removeClass("d-none"),$("#postEditarTransporte").find(".toda_cidade").removeClass("d-none"),$("#postEditarTransporte").find(".cidade").removeClass("d-none"))}),$(document).on("keydown",".keywords-adds",function(e){if(13==e.keyCode||3==e.isTrigger){if(e.preventDefault(),$(this).val().includes(";"))for(var a=$(this).val().split(";"),t=0;a.length>t;t++)a[t]&&$(this).parent().parent().find("table.keywords_adds").append(`<tr><td class="border-right border-bottom" width="5%"><button type="button" class="btn py-0 btn-remove-keyword">x</button></td> <td class="border-bottom"><input type="hidden" name="keywords[]" value="${a[t]}"> <span class="ml-2">${a[t]}</span></td></tr>`);else $(this).parent().parent().find("table.keywords_adds").append(`<tr><td class="border-right border-bottom" width="5%"><button type="button" class="btn py-0 btn-remove-keyword">x</button></td> <td class="border-bottom"><input type="hidden" name="keywords[]" value="${$(this).val()}">  <span class="ml-2">${$(this).val()}</span></td></tr>`);$(this).val("")}}),$(document).on("click",".btn-add-keywords",function(){$(".keywords-adds").trigger("keydown")}),$(document).on("click",".btn-remove-keyword",function(e){$(this).parent().parent().remove()}),$(document).on("click",".btn-save-seo",function(){$.ajax({url:"configurar-seo/register",type:"POST",data:new FormData($("#seoConfig")[0]),cache:!1,contentType:!1,processData:!1,success:e=>{console.log(e),$("select").selectpicker("val",""),$("input").val(""),$("textarea").val(""),$(".keywords_adds").empty(),$(".banner_path").empty()}})}),$(document).on("change","select.select-page",function(){""!==$(this).val()?$(".btn-save-seo").removeClass("d-none"):$(".btn-save-seo").addClass("d-none"),$.ajax({url:"configurar-seo/busca-info",type:"GET",data:{page:$(this).val()},success:e=>{if(isEmpty(e))$("input").val(""),$("textarea").val(""),$(".keywords_adds").empty(),$(".banner_path").empty();else{$('[name="id"]').val(e.id),$('[name="page"]').selectpicker("val",e.page),$('[name="title"]').val(e.title),$('[name="link"]').val(e.link),$('[name="description"]').val(e.description);for(var a=0;e.keywords.length>a;a++)$(".keywords_adds").append(`\n                            <tr>\n                                <td class="border-right border-bottom" width="5%"><button type="button" class="btn py-0 btn-remove-keyword">x</button></td>\n                                <td class="border-bottom"><input type="hidden" name="keywords[]" value="${e.keywords[a]}">  <span class="ml-2">${e.keywords[a]}</span></td>\n                            </tr>\n                        `);$(".banner_path").html('<img class="rounded" width="280" src="/storage/'+e.banner_path+'">')}}})}),$(document).on("click",".btn-env-code-delete",function(){var e=$(this);e.prop("disabled",!0),e.html('<div class="spinner-border" role="status"><span class="sr-only">Loading...</span></div>'),$.ajax({url:"/vendedor/env-code-delete",type:"GET",success:a=>{e.prop("disabled",!1),e.html("Enviar Codigo"),$(".btn-submit-code-delete").parent().removeClass("d-none"),$(".info-env-code").removeClass("d-none"),setTimeout(()=>{$(".info-env-code").addClass("d-none")},5e3)}})}),$(document).on("click",".btn-submit-code-delete",function(){var e=$(this);e.prop("disabled",!0),e.html('<div class="spinner-border" role="status"><span class="sr-only">Loading...</span></div>'),$.ajax({url:"/vendedor/confirm-code-delete",type:"POST",data:{code_delete:$('[name="code_delete"]').val()},success:a=>{e.prop("disabled",!1),e.html("Apagar Conta"),Swal.fire({icon:"success",title:"Conta apagada com successo!"}),setTimeout(()=>{window.location.reload()},6e3)},error:a=>{e.prop("disabled",!1),e.html("Apagar Conta"),a.responseJSON.error_msg&&Swal.fire({icon:"error",title:a.responseJSON.error_msg})}})}),$(document).on("click",".btn-rastreio-melhor-envio",function(e){e.preventDefault(),$("#rastreioMelhorEnvio").modal("show"),$("#rastreioMelhorEnvio").find(".modal-body").html('<div class="spinner-border" role="status"><span class="sr-only">Loading...</span></div>'),$.ajax({url:$(this).attr("href"),type:"GET",success:e=>{console.log(e),$("#rastreioMelhorEnvio").find(".modal-body").html(JSON.stringify(e))}})}),$(document).on("click",".notificarVendedor",function(){var e=$(this).data("order_number"),a=$(this).data("url"),t=$(this);t.html('<div class="spinner-border" role="status"><span class="sr-only">Loading...</span></div>').prop("disabled",!0),$.ajax({url:a,type:"POST",data:{order_number:e},success:e=>{t.html("Notificar").prop("disabled",!1),c.fire({icon:"success",title:"Notificação enviado com sucesso!"})}})}),$(document).on("click",".btn-verifica-cancelamento",function(){$("#verificarSolicitacaoCancelamento").find('[name="order_number"]').val($(this).data("order_number")),$.ajax({url:$(this).data("url"),type:"POST",data:{order_number:$(this).data("order_number")},success:e=>{"boleto"==e.order.payment_method?$("#verificarSolicitacaoCancelamento").find(".boleto").removeClass("d-none"):$("#verificarSolicitacaoCancelamento").find(".boleto").addClass("d-none"),$.each(e.order_cancel,(e,a)=>{$("#verificarSolicitacaoCancelamento").find("._"+e).text(a)})}})}),$(document).on("click",".btn-confirma-cancelamento",function(){var e=$(this);Swal.fire({title:"Confirmando Dados, Aguarde!",allowOutsideClick:!1,timerProgressBar:!0,didOpen:()=>{Swal.showLoading()}}),$.ajax({url:e.closest("form").attr("action"),type:"POST",data:new FormData(e.closest("form")[0]),cache:!1,contentType:!1,processData:!1,success:e=>{Swal.fire({icon:"success",title:"Pedido cancelado com successo!"}),$("#verificarSolicitacaoCancelamento").modal("hide")}})}),$(document).on("click",".btn-add-variation-servico",function(){var e=$("select.select-attr").val();$.ajax({url:"/servico/variation/component",type:"POST",data:{seller_id:$(".seller_id").val(),stock_controller:$('[name="stock_controller"]').prop("checked")?"true":"false",hospedagem_controller:$('[name="hospedagem_controller"]').prop("checked")?"true":"false",attrs_id:e,check_discount:$('[name="check_desconto"]').prop("checked")?"true":"false"},success:e=>{$(".variacoes").prepend(e),$('[data-toggle="popover"]').popover()}})}),$(document).on("click",".btn-save",function(){let e=$(this).data("target");$(this).data("refresh");$(e).find("input").removeClass("is-invalid"),$(e).find(".invalid-feedback").remove();let a=$(e).find(".modal-content");a.is(".modal-content")&&a.append('<div class="overlay d-flex justify-content-center align-items-center"><i class="fas fa-2x fa-sync fa-spin"></i></div>'),$.ajax({url:$(e).find("form").attr("action"),type:"POST",data:$(e).find("form").serialize(),success:a=>{$(e).find(".overlay").remove(),$(e).modal("hide")},error:a=>{$(e).find(".overlay").remove()}})}),$(document).on("click",".btn-destroy",function(){let e=$(this).data("url"),a=$(this).data("id");Swal.fire({icon:"warning",title:"Apagar Dados?",showCancelButton:!0,confirmButtonText:"Apagar",cancelButtonText:"Cancelar"}).then(t=>{t.isConfirmed&&(Swal.fire({title:"Apagando Dados",allowOutsideClick:!1,timerProgressBar:!0,didOpen:()=>{Swal.showLoading()}}),$.ajax({url:e,type:"POST",data:{id:a},success:e=>{Swal.fire({icon:"success",title:"Dados Apagados"}).then(()=>{window.location.reload()})},error:e=>{Swal.fire({icon:"error",title:"Erro ao apagar o dado!"})}}))})}),$(document).on("click",".btn-desativar-ps",function(){let e=$(this).data("href"),a=$(this).data("id"),t=$(this).data("ativo");Swal.fire({title:("N"==t?"Desativar":"Ativar")+" Dados?",showCancelButton:!0,confirmButtonText:"Sim",cancelButtonText:"Cancelar"}).then(o=>{o.isConfirmed&&(Swal.fire({title:"Desativando, aguarde...",allowOutsideClick:!1,timerProgressBar:!0,didOpen:()=>{Swal.showLoading()}}),$.ajax({url:e,type:"POST",data:{id:a,ativo:t},success:e=>{Swal.fire({icon:"success",title:"Dados Atualizados!"}).then(()=>{window.location.reload()})},error:e=>{Swal.fire({icon:"error",title:"Erro ao apagar o dado!"})}}))})}),$(document).on("click",".btn-clonar-ps",function(){let e=$(this).data("href"),a=$(this).data("id");Swal.fire({title:"Clonar Dados?",showCancelButton:!0,confirmButtonText:"Sim",cancelButtonText:"Cancelar"}).then(t=>{t.isConfirmed&&(Swal.fire({title:"Clonando, aguarde...",allowOutsideClick:!1,timerProgressBar:!0,didOpen:()=>{Swal.showLoading()}}),$.ajax({url:e,type:"POST",data:{id:a},success:e=>{$,Swal.fire({icon:"success",title:"Dados Clonado para "+e.type+" #"+e.id+"!"}).then(()=>{e.redirect_url?window.location.href=e.redirect_url:$(".search-filter").val(e.name).closest("form").submit()})},error:e=>{Swal.fire({icon:"error",title:"Erro ao atualizar o dado!"})}}))})}),$(document).on("click",".btn-add-stock",function(){let e=$(this).data("href"),a=$(this).data("id");Swal.fire({title:"Quantidade a ser Adicionada.",input:"number",showCancelButton:!0,confirmButtonText:"Adcionar",cancelButtonText:"Cancelar"}).then(t=>{t.isConfirmed&&(Swal.fire({title:"Gravando, aguarde...",allowOutsideClick:!1,timerProgressBar:!0,didOpen:()=>{Swal.showLoading()}}),$.ajax({url:e,type:"POST",data:{id:a,stock:t.value},success:e=>{Swal.fire({icon:"success",title:"Estoque adiconado com sucesso!"})},error:e=>{Swal.fire({icon:"error",title:"Erro ao atualizar os dados!"})}}))})}),$(document).on("change",".periodo_ini, .periodo_fim",function(){getInfoDash()}),$(function(){if($(".table-ajax").length>0){var e=$(".table-ajax").data("url"),a=$(".table-ajax").data("table"),t=$(".table-ajax").data("columns");e=e.includes("?")?e+"&table="+a:e+"?table="+a,$(".table-ajax").DataTable({processing:!0,serverSide:!0,responsive:!0,autoWidth:!1,language:language_pt_br,ajax:{url:e},columns:t,order:[[0,"desc"]]}),$(".table-ajax").on("draw.dt",function(){$('[data-toggle="tooltip"]').tooltip()})}}),$(".short-textarea").summernote({toolbar:[["style",["bold","italic","underline","clear"]],["color",["color"]]],callbacks:{onKeydown:function(e){var a=$(this).data("max-caracteres"),t=e.currentTarget.innerText;t.length>=a&&8!=e.keyCode&&e.preventDefault()},onKeyup:function(e){var a=$(this).data("max-caracteres"),t=e.currentTarget.innerText;$(this).parent().find(".count-max-length").text(`(max. caracteres ${a-t.length})`)},onPaste:function(e){var a=$(this).data("max-caracteres"),t=e.currentTarget.innerText,o=((e.originalEvent||e).clipboardData||window.clipboardData).getData("Text");e.preventDefault();var n=t+o;document.execCommand("insertText",!1,n.trim().substring(0,400)),$(this).parent().find(".count-max-length").text(`(max. caracteres ${a-t.length})`)}}}),$('[name="per_page"]').on("change",function(){$(this).closest("form").submit()})});var language_pt_br={emptyTable:"Nenhum registro encontrado",info:"Mostrando de _START_ até _END_ de _TOTAL_ registros",infoEmpty:"Mostrando 0 até 0 de 0 registros",infoFiltered:"(Filtrados de _MAX_ registros)",infoThousands:".",loadingRecords:"Carregando...",processing:"Processando...",zeroRecords:"Nenhum registro encontrado",search:"Pesquisar",paginate:{next:"Próximo",previous:"Anterior",first:"Primeiro",last:"Último"},aria:{sortAscending:": Ordenar colunas de forma ascendente",sortDescending:": Ordenar colunas de forma descendente"},select:{rows:{_:"Selecionado %d linhas",1:"Selecionado 1 linha"},cells:{1:"1 célula selecionada",_:"%d células selecionadas"},columns:{1:"1 coluna selecionada",_:"%d colunas selecionadas"}},buttons:{copySuccess:{1:"Uma linha copiada com sucesso",_:"%d linhas copiadas com sucesso"},collection:'Coleção  <span class="ui-button-icon-primary ui-icon ui-icon-triangle-1-s"></span>',colvis:"Visibilidade da Coluna",colvisRestore:"Restaurar Visibilidade",copy:"Copiar",copyKeys:"Pressione ctrl ou u2318 + C para copiar os dados da tabela para a área de transferência do sistema. Para cancelar, clique nesta mensagem ou pressione Esc..",copyTitle:"Copiar para a Área de Transferência",csv:"CSV",excel:"Excel",pageLength:{"-1":"Mostrar todos os registros",_:"Mostrar %d registros"},pdf:"PDF",print:"Imprimir"},autoFill:{cancel:"Cancelar",fill:"Preencher todas as células com",fillHorizontal:"Preencher células horizontalmente",fillVertical:"Preencher células verticalmente"},lengthMenu:"Exibir _MENU_ resultados por página",searchBuilder:{add:"Adicionar Condição",button:{0:"Construtor de Pesquisa",_:"Construtor de Pesquisa (%d)"},clearAll:"Limpar Tudo",condition:"Condição",conditions:{date:{after:"Depois",before:"Antes",between:"Entre",empty:"Vazio",equals:"Igual",not:"Não",notBetween:"Não Entre",notEmpty:"Não Vazio"},number:{between:"Entre",empty:"Vazio",equals:"Igual",gt:"Maior Que",gte:"Maior ou Igual a",lt:"Menor Que",lte:"Menor ou Igual a",not:"Não",notBetween:"Não Entre",notEmpty:"Não Vazio"},string:{contains:"Contém",empty:"Vazio",endsWith:"Termina Com",equals:"Igual",not:"Não",notEmpty:"Não Vazio",startsWith:"Começa Com"},array:{contains:"Contém",empty:"Vazio",equals:"Igual à",not:"Não",notEmpty:"Não vazio",without:"Não possui"}},data:"Data",deleteTitle:"Excluir regra de filtragem",logicAnd:"E",logicOr:"Ou",title:{0:"Construtor de Pesquisa",_:"Construtor de Pesquisa (%d)"},value:"Valor",leftTitle:"Critérios Externos",rightTitle:"Critérios Internos"},searchPanes:{clearMessage:"Limpar Tudo",collapse:{0:"Painéis de Pesquisa",_:"Painéis de Pesquisa (%d)"},count:"{total}",countFiltered:"{shown} ({total})",emptyPanes:"Nenhum Painel de Pesquisa",loadMessage:"Carregando Painéis de Pesquisa...",title:"Filtros Ativos"},thousands:".",
datetime:{previous:"Anterior",next:"Próximo",hours:"Hora",minutes:"Minuto",seconds:"Segundo",amPm:["am","pm"],unknown:"-",months:{0:"Janeiro",1:"Fevereiro",10:"Novembro",11:"Dezembro",2:"Março",3:"Abril",4:"Maio",5:"Junho",6:"Julho",7:"Agosto",8:"Setembro",9:"Outubro"},weekdays:["Domingo","Segunda-feira","Terça-feira","Quarta-feira","Quinte-feira","Sexta-feira","Sábado"]},editor:{close:"Fechar",create:{button:"Novo",submit:"Criar",title:"Criar novo registro"},edit:{button:"Editar",submit:"Atualizar",title:"Editar registro"},error:{system:'Ocorreu um erro no sistema (<a target="\\" rel="nofollow" href="\\">Mais informações</a>).'},multi:{noMulti:"Essa entrada pode ser editada individualmente, mas não como parte do grupo",restore:"Desfazer alterações",title:"Multiplos valores",info:"Os itens selecionados contêm valores diferentes para esta entrada. Para editar e definir todos os itens para esta entrada com o mesmo valor, clique ou toque aqui, caso contrário, eles manterão seus valores individuais."},remove:{button:"Remover",confirm:{_:"Tem certeza que quer deletar %d linhas?",1:"Tem certeza que quer deletar 1 linha?"},submit:"Remover",title:"Remover registro"}},decimal:","};(function(e){e.fn.matchDimensions=function(a){var t=e(this),o=0,n=0;if(t.length>0)switch(a){case"height":t.css("height","auto").each(function(){o=Math.max(o,e(this).height())}).height(o);break;case"width":t.css("width","auto").each(function(){n=Math.max(n,e(this).width())}).width(n);break;default:t.each(function(){var a=e(this);o=Math.max(o,a.height()),n=Math.max(n,a.width())}),t.css({width:"auto",height:"auto"}).height(o).width(n)}return t}})(jQuery);